## Day02

> 首先BIOS从硬盘中的第一个扇区加载数据，加载的数据从内存的0x7c00处开始保存,程序都是保存在磁盘镜像文
> 件中的

#### 汇编指令
- ORG : origin 的意思，告诉告诉编译器,程序的起始地址
- JMP : go to 的意思， jump
- entry: 标号,类似这样的都是标号，其实就是计算机根据ORG计算出来的地址。
- mov : 赋值指令，MOV SS,AX 等于 SS = AX
- \ []  : 表示内存的地址,表示存储至该地址或者取该地址处的值
- cmp : 比较两个操作数
- je  : 比较后跳转，**相等才跳转，不等不跳转**
- INT : interrupt 中断
- HLT : 使计算机进入休眠，直到检测到外部变化，计算机才会醒过来。

#### 寄存器
- 8 个代表性的寄存器
  - AX  : 累加寄存器
  - BX  : 基址寄存器
  - CX  : 计数寄存器
  - DX  : 数据寄存器
  - SP  : 栈指针寄存器
  - BP  : 基址指针寄存器
  - SI  : 源变址寄存器
  - DI  : 目的变址寄存器
  - AX,BX,CX,DX 分为H和L两种，以AX为例即是 AL和AH，即低8位和高8位
- 段寄存器
  - ES  : 附件段寄存器
  - CS  : 代码段寄存器
  - SS  : 栈段寄存器
  - DS  : 数据段寄存器
  - FS  :
  - GS  :

#### 0x7c00
- 这是一个内存中的地址，启动系统的初始地址都在该处

#### nasm 命令
- \-l  :编译时生成list文件，里面包含代码和对应的机器码等内容
- \-o  :用来指定编译后的文件的名称

#### dd 命令
		dd if=/dev/zero of=os.img bs=512 count=2880 //新建一个空的2880\* 512 字节的软盘文件（当时软盘的大小）
		dd if=bootloader of=os.img bs=512 count=1
- if  : 输入文件
- of  : 输出文件 
- bs  : 输入/输出块的大小
- count : 拷贝块的个数

##### makefile

> makefile规则规定了编译的依赖关系，也就是目标文件依赖于条件，生成规则用命令来描述。编译时，如果需
> 要的条件的文件比目标更新的话，就会执行生成命令来更新目标
	
- 文件名可为Makefile，也可为makefile
- 规则
	目标 ： 需要的条件（冒号两边有空格）
		命令	（命令前面是tab不是空格，vim编辑时最好将tab替换成空格的命令去掉）
	-	目标可以是一个或者多个，可以是Object file，也可以是一个执行文件，甚至可以是一个标签。
	-	需要的条件就是生成目标所需要的文件或者目录，可以一个或者多个
	-	命令就是生成目标所需要执行的脚本,可添加多个命令
	
- 使用 直接利用 make 目标 命令便可生成目标文件
- make 会在Makefile中自动的寻找，生成目标文件的规则并加以利用，


