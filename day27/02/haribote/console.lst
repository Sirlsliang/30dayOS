     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_task_now
     7 00000000                                 	EXTERN	_memman_alloc_4k
     8 00000000                                 	EXTERN	_timer_alloc
     9 00000000                                 	EXTERN	_timer_init
    10 00000000                                 	EXTERN	_timer_settime
    11 00000000                                 	EXTERN	_file_readfat
    12 00000000                                 	EXTERN	_io_cli
    13 00000000                                 	EXTERN	_fifo32_status
    14 00000000                                 	EXTERN	_fifo32_get
    15 00000000                                 	EXTERN	_io_sti
    16 00000000                                 	EXTERN	_boxfill8
    17 00000000                                 	EXTERN	_sheet_refresh
    18 00000000                                 	EXTERN	_task_sleep
    19 00000000                                 	EXTERN	_putfonts8_asc_sht
    20 00000000                                 	EXTERN	_memman_total
    21 00000000                                 	EXTERN	_sprintf
    22 00000000                                 	EXTERN	_file_search
    23 00000000                                 	EXTERN	_file_loadfile
    24 00000000                                 	EXTERN	_memman_free_4k
    25 00000000                                 	EXTERN	_timer_cancel
    26 00000000                                 	EXTERN	_fifo32_put
    27 00000000                                 	EXTERN	_taskctl
    28 00000000                                 	EXTERN	_open_console
    29 00000000                                 	EXTERN	_sheet_slide
    30 00000000                                 	EXTERN	_sheet_updown
    31 00000000                                 	EXTERN	_open_constask
    32 00000000                                 	EXTERN	_set_segmdesc
    33 00000000                                 	EXTERN	_start_app
    34 00000000                                 	EXTERN	_timer_cancelall
    35 00000000                                 	EXTERN	_sheet_free
    36 00000000                                 	EXTERN	_io_in8
    37 00000000                                 	EXTERN	_io_out8
    38 00000000                                 	EXTERN	_timer_free
    39 00000000                                 	EXTERN	_memman_free
    40 00000000                                 	EXTERN	_memman_alloc
    41 00000000                                 	EXTERN	_memman_init
    42 00000000                                 	EXTERN	_putfonts8_asc
    43 00000000                                 	EXTERN	_sheet_alloc
    44 00000000                                 	EXTERN	_sheet_setbuf
    45 00000000                                 	EXTERN	_make_window8
    46 00000000                                 [FILE "console.c"]
    47                                          [SECTION .text]
    48 00000000                                 	GLOBAL	_console_task
    49 00000000                                 _console_task:
    50 00000000 55                              	PUSH	EBP
    51 00000001 89 E5                           	MOV	EBP,ESP
    52 00000003 57                              	PUSH	EDI
    53 00000004 56                              	PUSH	ESI
    54 00000005 53                              	PUSH	EBX
    55 00000006 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
    56 00000009 83 EC 48                        	SUB	ESP,72
    57 0000000C 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
    58 0000000F E8 [00000000]                   	CALL	_task_now
    59 00000014 68 00002D00                     	PUSH	11520
    60 00000019 68 003C0000                     	PUSH	3932160
    61 0000001E 89 45 B0                        	MOV	DWORD [-80+EBP],EAX
    62 00000021 E8 [00000000]                   	CALL	_memman_alloc_4k
    63 00000026 85 DB                           	TEST	EBX,EBX
    64 00000028 89 C7                           	MOV	EDI,EAX
    65 0000002A 89 5D D4                        	MOV	DWORD [-44+EBP],EBX
    66 0000002D 8B 45 B0                        	MOV	EAX,DWORD [-80+EBP]
    67 00000030 C7 45 D8 00000008               	MOV	DWORD [-40+EBP],8
    68 00000037 89 B0 000000A4                  	MOV	DWORD [164+EAX],ESI
    69 0000003D 58                              	POP	EAX
    70 0000003E C7 45 DC 0000001C               	MOV	DWORD [-36+EBP],28
    71 00000045 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
    72 0000004C 5A                              	POP	EDX
    73 0000004D 74 24                           	JE	L2
    74 0000004F E8 [00000000]                   	CALL	_timer_alloc
    75 00000054 8B 55 B0                        	MOV	EDX,DWORD [-80+EBP]
    76 00000057 6A 01                           	PUSH	1
    77 00000059 83 C2 10                        	ADD	EDX,16
    78 0000005C 52                              	PUSH	EDX
    79 0000005D 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
    80 00000060 50                              	PUSH	EAX
    81 00000061 E8 [00000000]                   	CALL	_timer_init
    82 00000066 6A 32                           	PUSH	50
    83 00000068 FF 75 E4                        	PUSH	DWORD [-28+EBP]
    84 0000006B E8 [00000000]                   	CALL	_timer_settime
    85 00000070 83 C4 14                        	ADD	ESP,20
    86 00000073                                 L2:
    87 00000073 68 00100200                     	PUSH	1049088
    88 00000078 57                              	PUSH	EDI
    89 00000079 E8 [00000000]                   	CALL	_file_readfat
    90 0000007E 6A 01                           	PUSH	1
    91 00000080 6A 3E                           	PUSH	62
    92 00000082 56                              	PUSH	ESI
    93 00000083 E8 00000220                     	CALL	_cons_putchar
    94 00000088                                 L27:
    95 00000088 83 C4 14                        	ADD	ESP,20
    96 0000008B                                 L3:
    97 0000008B E8 [00000000]                   	CALL	_io_cli
    98 00000090 8B 5D B0                        	MOV	EBX,DWORD [-80+EBP]
    99 00000093 83 C3 10                        	ADD	EBX,16
   100 00000096 53                              	PUSH	EBX
   101 00000097 E8 [00000000]                   	CALL	_fifo32_status
   102 0000009C 5E                              	POP	ESI
   103 0000009D 85 C0                           	TEST	EAX,EAX
   104 0000009F 0F 84 000001F0                  	JE	L30
   105 000000A5 53                              	PUSH	EBX
   106 000000A6 E8 [00000000]                   	CALL	_fifo32_get
   107 000000AB 89 C6                           	MOV	ESI,EAX
   108 000000AD E8 [00000000]                   	CALL	_io_sti
   109 000000B2 59                              	POP	ECX
   110 000000B3 83 FE 01                        	CMP	ESI,1
   111 000000B6 0F 8E 00000182                  	JLE	L31
   112 000000BC                                 L8:
   113 000000BC 83 FE 02                        	CMP	ESI,2
   114 000000BF 0F 84 0000016D                  	JE	L32
   115 000000C5                                 L13:
   116 000000C5 83 FE 03                        	CMP	ESI,3
   117 000000C8 0F 84 00000132                  	JE	L33
   118 000000CE                                 L14:
   119 000000CE 83 FE 04                        	CMP	ESI,4
   120 000000D1 0F 84 00000118                  	JE	L34
   121 000000D7                                 L16:
   122 000000D7 8D 8E FFFFFF00                  	LEA	ECX,DWORD [-256+ESI]
   123 000000DD 89 4D AC                        	MOV	DWORD [-84+EBP],ECX
   124 000000E0 81 F9 000000FF                  	CMP	ECX,255
   125 000000E6 77 48                           	JA	L17
   126 000000E8 81 FE 00000108                  	CMP	ESI,264
   127 000000EE 0F 84 000000DB                  	JE	L35
   128 000000F4 81 FE 0000010A                  	CMP	ESI,266
   129 000000FA 0F 84 00000080                  	JE	L36
   130 00000100 8B 4D D8                        	MOV	ECX,DWORD [-40+EBP]
   131 00000103 81 F9 000000EF                  	CMP	ECX,239
   132 00000109 7F 25                           	JG	L17
   133 0000010B 89 C8                           	MOV	EAX,ECX
   134 0000010D BA 00000008                     	MOV	EDX,8
   135 00000112 89 D3                           	MOV	EBX,EDX
   136 00000114 6A 01                           	PUSH	1
   137 00000116 99                              	CDQ
   138 00000117 F7 FB                           	IDIV	EBX
   139 00000119 89 C1                           	MOV	ECX,EAX
   140 0000011B 89 F0                           	MOV	EAX,ESI
   141 0000011D 88 44 0D B2                     	MOV	BYTE [-78+EBP+ECX*1],AL
   142 00000121 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   143 00000124 FF 75 AC                        	PUSH	DWORD [-84+EBP]
   144 00000127 50                              	PUSH	EAX
   145 00000128                                 L28:
   146 00000128 E8 0000017B                     	CALL	_cons_putchar
   147 0000012D                                 L29:
   148 0000012D 83 C4 0C                        	ADD	ESP,12
   149 00000130                                 L17:
   150 00000130 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   151 00000133 85 DB                           	TEST	EBX,EBX
   152 00000135 0F 84 FFFFFF50                  	JE	L3
   153 0000013B 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   154 0000013F 78 22                           	JS	L26
   155 00000141 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   156 00000144 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   157 00000147 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   158 0000014A 50                              	PUSH	EAX
   159 0000014B 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   160 0000014E 50                              	PUSH	EAX
   161 0000014F 51                              	PUSH	ECX
   162 00000150 52                              	PUSH	EDX
   163 00000151 0F B6 45 E0                     	MOVZX	EAX,BYTE [-32+EBP]
   164 00000155 50                              	PUSH	EAX
   165 00000156 FF 73 0C                        	PUSH	DWORD [12+EBX]
   166 00000159 FF 33                           	PUSH	DWORD [EBX]
   167 0000015B E8 [00000000]                   	CALL	_boxfill8
   168 00000160 83 C4 1C                        	ADD	ESP,28
   169 00000163                                 L26:
   170 00000163 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   171 00000166 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   172 00000169 8D 41 10                        	LEA	EAX,DWORD [16+ECX]
   173 0000016C 50                              	PUSH	EAX
   174 0000016D 8D 42 08                        	LEA	EAX,DWORD [8+EDX]
   175 00000170 50                              	PUSH	EAX
   176 00000171 51                              	PUSH	ECX
   177 00000172 52                              	PUSH	EDX
   178 00000173 FF 75 D4                        	PUSH	DWORD [-44+EBP]
   179 00000176 E8 [00000000]                   	CALL	_sheet_refresh
   180 0000017B E9 FFFFFF08                     	JMP	L27
   181 00000180                                 L36:
   182 00000180 6A 00                           	PUSH	0
   183 00000182 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
   184 00000185 6A 20                           	PUSH	32
   185 00000187 53                              	PUSH	EBX
   186 00000188 E8 0000011B                     	CALL	_cons_putchar
   187 0000018D 53                              	PUSH	EBX
   188 0000018E 8B 45 D8                        	MOV	EAX,DWORD [-40+EBP]
   189 00000191 BA 00000008                     	MOV	EDX,8
   190 00000196 89 D1                           	MOV	ECX,EDX
   191 00000198 99                              	CDQ
   192 00000199 F7 F9                           	IDIV	ECX
   193 0000019B C6 44 05 B2 00                  	MOV	BYTE [-78+EBP+EAX*1],0
   194 000001A0 E8 000001B4                     	CALL	_cons_newline
   195 000001A5 8D 45 B4                        	LEA	EAX,DWORD [-76+EBP]
   196 000001A8 FF 75 0C                        	PUSH	DWORD [12+EBP]
   197 000001AB 57                              	PUSH	EDI
   198 000001AC 53                              	PUSH	EBX
   199 000001AD 50                              	PUSH	EAX
   200 000001AE E8 000002C8                     	CALL	_cons_runcmd
   201 000001B3 83 C4 20                        	ADD	ESP,32
   202 000001B6 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   203 000001BA 75 09                           	JNE	L22
   204 000001BC 57                              	PUSH	EDI
   205 000001BD 53                              	PUSH	EBX
   206 000001BE E8 00000616                     	CALL	_cmd_exit
   207 000001C3 58                              	POP	EAX
   208 000001C4 5A                              	POP	EDX
   209 000001C5                                 L22:
   210 000001C5 6A 01                           	PUSH	1
   211 000001C7 6A 3E                           	PUSH	62
   212 000001C9 53                              	PUSH	EBX
   213 000001CA E9 FFFFFF59                     	JMP	L28
   214 000001CF                                 L35:
   215 000001CF 83 7D D8 10                     	CMP	DWORD [-40+EBP],16
   216 000001D3 0F 8E FFFFFF57                  	JLE	L17
   217 000001D9 6A 00                           	PUSH	0
   218 000001DB 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   219 000001DE 6A 20                           	PUSH	32
   220 000001E0 50                              	PUSH	EAX
   221 000001E1 E8 000000C2                     	CALL	_cons_putchar
   222 000001E6 83 6D D8 08                     	SUB	DWORD [-40+EBP],8
   223 000001EA E9 FFFFFF3E                     	JMP	L29
   224 000001EF                                 L34:
   225 000001EF 57                              	PUSH	EDI
   226 000001F0 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   227 000001F3 50                              	PUSH	EAX
   228 000001F4 E8 000005E0                     	CALL	_cmd_exit
   229 000001F9 59                              	POP	ECX
   230 000001FA 5B                              	POP	EBX
   231 000001FB E9 FFFFFED7                     	JMP	L16
   232 00000200                                 L33:
   233 00000200 8B 5D D4                        	MOV	EBX,DWORD [-44+EBP]
   234 00000203 85 DB                           	TEST	EBX,EBX
   235 00000205 74 1F                           	JE	L15
   236 00000207 8B 4D DC                        	MOV	ECX,DWORD [-36+EBP]
   237 0000020A 8B 55 D8                        	MOV	EDX,DWORD [-40+EBP]
   238 0000020D 8D 41 0F                        	LEA	EAX,DWORD [15+ECX]
   239 00000210 50                              	PUSH	EAX
   240 00000211 8D 42 07                        	LEA	EAX,DWORD [7+EDX]
   241 00000214 50                              	PUSH	EAX
   242 00000215 51                              	PUSH	ECX
   243 00000216 52                              	PUSH	EDX
   244 00000217 6A 00                           	PUSH	0
   245 00000219 FF 73 0C                        	PUSH	DWORD [12+EBX]
   246 0000021C FF 33                           	PUSH	DWORD [EBX]
   247 0000021E E8 [00000000]                   	CALL	_boxfill8
   248 00000223 83 C4 1C                        	ADD	ESP,28
   249 00000226                                 L15:
   250 00000226 C7 45 E0 FFFFFFFF               	MOV	DWORD [-32+EBP],-1
   251 0000022D E9 FFFFFE9C                     	JMP	L14
   252 00000232                                 L32:
   253 00000232 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   254 00000239 E9 FFFFFE87                     	JMP	L13
   255 0000023E                                 L31:
   256 0000023E 83 7D D4 00                     	CMP	DWORD [-44+EBP],0
   257 00000242 0F 84 FFFFFE74                  	JE	L8
   258 00000248 85 F6                           	TEST	ESI,ESI
   259 0000024A 74 2C                           	JE	L9
   260 0000024C 6A 00                           	PUSH	0
   261 0000024E 53                              	PUSH	EBX
   262 0000024F FF 75 E4                        	PUSH	DWORD [-28+EBP]
   263 00000252 E8 [00000000]                   	CALL	_timer_init
   264 00000257 83 C4 0C                        	ADD	ESP,12
   265 0000025A 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   266 0000025E 78 07                           	JS	L11
   267 00000260 C7 45 E0 00000007               	MOV	DWORD [-32+EBP],7
   268 00000267                                 L11:
   269 00000267 6A 32                           	PUSH	50
   270 00000269 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   271 0000026C E8 [00000000]                   	CALL	_timer_settime
   272 00000271 58                              	POP	EAX
   273 00000272 5A                              	POP	EDX
   274 00000273 E9 FFFFFE44                     	JMP	L8
   275 00000278                                 L9:
   276 00000278 6A 01                           	PUSH	1
   277 0000027A 53                              	PUSH	EBX
   278 0000027B FF 75 E4                        	PUSH	DWORD [-28+EBP]
   279 0000027E E8 [00000000]                   	CALL	_timer_init
   280 00000283 83 C4 0C                        	ADD	ESP,12
   281 00000286 83 7D E0 00                     	CMP	DWORD [-32+EBP],0
   282 0000028A 78 DB                           	JS	L11
   283 0000028C C7 45 E0 00000000               	MOV	DWORD [-32+EBP],0
   284 00000293 EB D2                           	JMP	L11
   285 00000295                                 L30:
   286 00000295 FF 75 B0                        	PUSH	DWORD [-80+EBP]
   287 00000298 E8 [00000000]                   	CALL	_task_sleep
   288 0000029D E8 [00000000]                   	CALL	_io_sti
   289 000002A2 5B                              	POP	EBX
   290 000002A3 E9 FFFFFDE3                     	JMP	L3
   291                                          [SECTION .data]
   292 00000000                                 LC0:
   293 00000000 20 00                           	DB	" ",0x00
   294                                          [SECTION .text]
   295 000002A8                                 	GLOBAL	_cons_putchar
   296 000002A8                                 _cons_putchar:
   297 000002A8 55                              	PUSH	EBP
   298 000002A9 89 E5                           	MOV	EBP,ESP
   299 000002AB 53                              	PUSH	EBX
   300 000002AC 50                              	PUSH	EAX
   301 000002AD 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   302 000002B0 8A 55 10                        	MOV	DL,BYTE [16+EBP]
   303 000002B3 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   304 000002B6 88 55 F9                        	MOV	BYTE [-7+EBP],DL
   305 000002B9 88 45 FA                        	MOV	BYTE [-6+EBP],AL
   306 000002BC 3C 09                           	CMP	AL,9
   307 000002BE C6 45 FB 00                     	MOV	BYTE [-5+EBP],0
   308 000002C2 74 4D                           	JE	L39
   309 000002C4 3C 0A                           	CMP	AL,10
   310 000002C6 74 25                           	JE	L53
   311 000002C8 3C 0D                           	CMP	AL,13
   312 000002CA 74 1C                           	JE	L37
   313 000002CC 8B 13                           	MOV	EDX,DWORD [EBX]
   314 000002CE 85 D2                           	TEST	EDX,EDX
   315 000002D0 75 24                           	JNE	L54
   316 000002D2                                 L50:
   317 000002D2 80 7D F9 00                     	CMP	BYTE [-7+EBP],0
   318 000002D6 74 10                           	JE	L37
   319 000002D8 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   320 000002DB 83 C0 08                        	ADD	EAX,8
   321 000002DE 89 43 04                        	MOV	DWORD [4+EBX],EAX
   322 000002E1 3D 000000F8                     	CMP	EAX,248
   323 000002E6 74 05                           	JE	L53
   324 000002E8                                 L37:
   325 000002E8 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   326 000002EB C9                              	LEAVE
   327 000002EC C3                              	RET
   328 000002ED                                 L53:
   329 000002ED 53                              	PUSH	EBX
   330 000002EE E8 00000066                     	CALL	_cons_newline
   331 000002F3 59                              	POP	ECX
   332 000002F4 EB F2                           	JMP	L37
   333 000002F6                                 L54:
   334 000002F6 6A 01                           	PUSH	1
   335 000002F8 8D 45 FA                        	LEA	EAX,DWORD [-6+EBP]
   336 000002FB 50                              	PUSH	EAX
   337 000002FC 6A 00                           	PUSH	0
   338 000002FE 6A 07                           	PUSH	7
   339 00000300 FF 73 08                        	PUSH	DWORD [8+EBX]
   340 00000303 FF 73 04                        	PUSH	DWORD [4+EBX]
   341 00000306 52                              	PUSH	EDX
   342 00000307 E8 [00000000]                   	CALL	_putfonts8_asc_sht
   343 0000030C 83 C4 1C                        	ADD	ESP,28
   344 0000030F EB C1                           	JMP	L50
   345 00000311                                 L39:
   346 00000311 8B 03                           	MOV	EAX,DWORD [EBX]
   347 00000313 85 C0                           	TEST	EAX,EAX
   348 00000315 75 26                           	JNE	L55
   349 00000317                                 L42:
   350 00000317 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   351 0000031A 83 C0 08                        	ADD	EAX,8
   352 0000031D 89 43 04                        	MOV	DWORD [4+EBX],EAX
   353 00000320 3D 000000F8                     	CMP	EAX,248
   354 00000325 74 0D                           	JE	L56
   355 00000327                                 L43:
   356 00000327 8B 43 04                        	MOV	EAX,DWORD [4+EBX]
   357 0000032A 83 E8 08                        	SUB	EAX,8
   358 0000032D 83 E0 1F                        	AND	EAX,31
   359 00000330 75 DF                           	JNE	L39
   360 00000332 EB B4                           	JMP	L37
   361 00000334                                 L56:
   362 00000334 53                              	PUSH	EBX
   363 00000335 E8 0000001F                     	CALL	_cons_newline
   364 0000033A 58                              	POP	EAX
   365 0000033B EB EA                           	JMP	L43
   366 0000033D                                 L55:
   367 0000033D 6A 01                           	PUSH	1
   368 0000033F 68 [00000000]                   	PUSH	LC0
   369 00000344 6A 00                           	PUSH	0
   370 00000346 6A 07                           	PUSH	7
   371 00000348 FF 73 08                        	PUSH	DWORD [8+EBX]
   372 0000034B FF 73 04                        	PUSH	DWORD [4+EBX]
   373 0000034E 50                              	PUSH	EAX
   374 0000034F E8 [00000000]                   	CALL	_putfonts8_asc_sht
   375 00000354 83 C4 1C                        	ADD	ESP,28
   376 00000357 EB BE                           	JMP	L42
   377 00000359                                 	GLOBAL	_cons_newline
   378 00000359                                 _cons_newline:
   379 00000359 55                              	PUSH	EBP
   380 0000035A 89 E5                           	MOV	EBP,ESP
   381 0000035C 57                              	PUSH	EDI
   382 0000035D 56                              	PUSH	ESI
   383 0000035E 53                              	PUSH	EBX
   384 0000035F 50                              	PUSH	EAX
   385 00000360 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   386 00000363 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   387 00000366 8B 00                           	MOV	EAX,DWORD [EAX]
   388 00000368 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   389 0000036B 8B 42 08                        	MOV	EAX,DWORD [8+EDX]
   390 0000036E 3D 0000008B                     	CMP	EAX,139
   391 00000373 7F 18                           	JG	L58
   392 00000375 83 C0 10                        	ADD	EAX,16
   393 00000378 89 42 08                        	MOV	DWORD [8+EDX],EAX
   394 0000037B                                 L59:
   395 0000037B 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   396 0000037E C7 40 04 00000008               	MOV	DWORD [4+EAX],8
   397 00000385 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   398 00000388 5B                              	POP	EBX
   399 00000389 5E                              	POP	ESI
   400 0000038A 5F                              	POP	EDI
   401 0000038B 5D                              	POP	EBP
   402 0000038C C3                              	RET
   403 0000038D                                 L58:
   404 0000038D 83 7D F0 00                     	CMP	DWORD [-16+EBP],0
   405 00000391 74 E8                           	JE	L59
   406 00000393 BF 0000001C                     	MOV	EDI,28
   407 00000398                                 L70:
   408 00000398 BE 00000008                     	MOV	ESI,8
   409 0000039D                                 L69:
   410 0000039D 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   411 000003A0 89 FA                           	MOV	EDX,EDI
   412 000003A2 8B 48 0C                        	MOV	ECX,DWORD [12+EAX]
   413 000003A5 8B 18                           	MOV	EBX,DWORD [EAX]
   414 000003A7 8D 47 10                        	LEA	EAX,DWORD [16+EDI]
   415 000003AA 0F AF C1                        	IMUL	EAX,ECX
   416 000003AD 0F AF D1                        	IMUL	EDX,ECX
   417 000003B0 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   418 000003B3 8D 14 32                        	LEA	EDX,DWORD [EDX+ESI*1]
   419 000003B6 46                              	INC	ESI
   420 000003B7 8A 04 18                        	MOV	AL,BYTE [EAX+EBX*1]
   421 000003BA 81 FE 000000F7                  	CMP	ESI,247
   422 000003C0 88 04 1A                        	MOV	BYTE [EDX+EBX*1],AL
   423 000003C3 7E D8                           	JLE	L69
   424 000003C5 47                              	INC	EDI
   425 000003C6 81 FF 0000008B                  	CMP	EDI,139
   426 000003CC 7E CA                           	JLE	L70
   427 000003CE BF 0000008C                     	MOV	EDI,140
   428 000003D3                                 L80:
   429 000003D3 BE 00000008                     	MOV	ESI,8
   430 000003D8                                 L79:
   431 000003D8 8B 55 F0                        	MOV	EDX,DWORD [-16+EBP]
   432 000003DB 89 F8                           	MOV	EAX,EDI
   433 000003DD 89 D1                           	MOV	ECX,EDX
   434 000003DF 0F AF 42 0C                     	IMUL	EAX,DWORD [12+EDX]
   435 000003E3 8B 12                           	MOV	EDX,DWORD [EDX]
   436 000003E5 8D 04 30                        	LEA	EAX,DWORD [EAX+ESI*1]
   437 000003E8 46                              	INC	ESI
   438 000003E9 81 FE 000000F7                  	CMP	ESI,247
   439 000003EF C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   440 000003F3 7E E3                           	JLE	L79
   441 000003F5 47                              	INC	EDI
   442 000003F6 81 FF 0000009B                  	CMP	EDI,155
   443 000003FC 7E D5                           	JLE	L80
   444 000003FE 68 0000009C                     	PUSH	156
   445 00000403 68 000000F8                     	PUSH	248
   446 00000408 6A 1C                           	PUSH	28
   447 0000040A 6A 08                           	PUSH	8
   448 0000040C 51                              	PUSH	ECX
   449 0000040D E8 [00000000]                   	CALL	_sheet_refresh
   450 00000412 83 C4 14                        	ADD	ESP,20
   451 00000415 E9 FFFFFF61                     	JMP	L59
   452 0000041A                                 	GLOBAL	_cons_putstr0
   453 0000041A                                 _cons_putstr0:
   454 0000041A 55                              	PUSH	EBP
   455 0000041B 89 E5                           	MOV	EBP,ESP
   456 0000041D 56                              	PUSH	ESI
   457 0000041E 53                              	PUSH	EBX
   458 0000041F 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   459 00000422 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   460 00000425 80 3B 00                        	CMP	BYTE [EBX],0
   461 00000428 75 07                           	JNE	L94
   462 0000042A                                 L96:
   463 0000042A 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   464 0000042D 5B                              	POP	EBX
   465 0000042E 5E                              	POP	ESI
   466 0000042F 5D                              	POP	EBP
   467 00000430 C3                              	RET
   468 00000431                                 L94:
   469 00000431 6A 01                           	PUSH	1
   470 00000433 0F BE 03                        	MOVSX	EAX,BYTE [EBX]
   471 00000436 50                              	PUSH	EAX
   472 00000437 43                              	INC	EBX
   473 00000438 56                              	PUSH	ESI
   474 00000439 E8 FFFFFE6A                     	CALL	_cons_putchar
   475 0000043E 83 C4 0C                        	ADD	ESP,12
   476 00000441 80 3B 00                        	CMP	BYTE [EBX],0
   477 00000444 75 EB                           	JNE	L94
   478 00000446 EB E2                           	JMP	L96
   479 00000448                                 	GLOBAL	_cons_putstr1
   480 00000448                                 _cons_putstr1:
   481 00000448 55                              	PUSH	EBP
   482 00000449 89 E5                           	MOV	EBP,ESP
   483 0000044B 57                              	PUSH	EDI
   484 0000044C 56                              	PUSH	ESI
   485 0000044D 53                              	PUSH	EBX
   486 0000044E 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   487 00000451 31 DB                           	XOR	EBX,EBX
   488 00000453 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   489 00000456 39 F3                           	CMP	EBX,ESI
   490 00000458 7C 08                           	JL	L102
   491 0000045A                                 L104:
   492 0000045A 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   493 0000045D 5B                              	POP	EBX
   494 0000045E 5E                              	POP	ESI
   495 0000045F 5F                              	POP	EDI
   496 00000460 5D                              	POP	EBP
   497 00000461 C3                              	RET
   498 00000462                                 L102:
   499 00000462 6A 01                           	PUSH	1
   500 00000464 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
   501 00000468 50                              	PUSH	EAX
   502 00000469 43                              	INC	EBX
   503 0000046A FF 75 08                        	PUSH	DWORD [8+EBP]
   504 0000046D E8 FFFFFE36                     	CALL	_cons_putchar
   505 00000472 83 C4 0C                        	ADD	ESP,12
   506 00000475 39 F3                           	CMP	EBX,ESI
   507 00000477 7C E9                           	JL	L102
   508 00000479 EB DF                           	JMP	L104
   509                                          [SECTION .data]
   510 00000002                                 LC1:
   511 00000002 6D 65 6D 00                     	DB	"mem",0x00
   512 00000006                                 LC2:
   513 00000006 63 6C 73 00                     	DB	"cls",0x00
   514 0000000A                                 LC3:
   515 0000000A 64 69 72 00                     	DB	"dir",0x00
   516 0000000E                                 LC4:
   517 0000000E 74 79 70 65 20 00               	DB	"type ",0x00
   518 00000014                                 LC5:
   519 00000014 65 78 69 74 00                  	DB	"exit",0x00
   520 00000019                                 LC6:
   521 00000019 73 74 61 72 74 20 00            	DB	"start ",0x00
   522 00000020                                 LC7:
   523 00000020 6E 63 73 74 20 00               	DB	"ncst ",0x00
   524 00000026                                 LC8:
   525 00000026 42 61 64 20 63 6F 6D 6D 61 6E   	DB	"Bad command.",0x0A,0x0A,0x00
       00000030 64 2E 0A 0A 00 
   526                                          [SECTION .text]
   527 0000047B                                 	GLOBAL	_cons_runcmd
   528 0000047B                                 _cons_runcmd:
   529 0000047B 55                              	PUSH	EBP
   530 0000047C 89 E5                           	MOV	EBP,ESP
   531 0000047E 57                              	PUSH	EDI
   532 0000047F 56                              	PUSH	ESI
   533 00000480 BF [00000002]                   	MOV	EDI,LC1
   534 00000485 53                              	PUSH	EBX
   535 00000486 83 EC 0C                        	SUB	ESP,12
   536 00000489 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   537 0000048C 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   538 0000048F 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   539 00000492 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
   540 00000495 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   541 00000498 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   542 0000049B 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   543 0000049E 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   544 000004A1 B8 00000004                     	MOV	EAX,4
   545 000004A6 FC                              	CLD
   546 000004A7 89 C1                           	MOV	ECX,EAX
   547 000004A9 F3                              	REPE
   548 000004AA A6                              	CMPSB
   549 000004AB 75 09                           	JNE	L106
   550 000004AD 83 3B 00                        	CMP	DWORD [EBX],0
   551 000004B0 0F 85 0000014F                  	JNE	L122
   552 000004B6                                 L106:
   553 000004B6 B8 00000004                     	MOV	EAX,4
   554 000004BB 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   555 000004BE FC                              	CLD
   556 000004BF BF [00000006]                   	MOV	EDI,LC2
   557 000004C4 89 C1                           	MOV	ECX,EAX
   558 000004C6 F3                              	REPE
   559 000004C7 A6                              	CMPSB
   560 000004C8 75 09                           	JNE	L108
   561 000004CA 83 3B 00                        	CMP	DWORD [EBX],0
   562 000004CD 0F 85 00000126                  	JNE	L123
   563 000004D3                                 L108:
   564 000004D3 B8 00000004                     	MOV	EAX,4
   565 000004D8 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   566 000004DB FC                              	CLD
   567 000004DC BF [0000000A]                   	MOV	EDI,LC3
   568 000004E1 89 C1                           	MOV	ECX,EAX
   569 000004E3 F3                              	REPE
   570 000004E4 A6                              	CMPSB
   571 000004E5 75 09                           	JNE	L110
   572 000004E7 83 3B 00                        	CMP	DWORD [EBX],0
   573 000004EA 0F 85 000000FA                  	JNE	L124
   574 000004F0                                 L110:
   575 000004F0 B8 00000005                     	MOV	EAX,5
   576 000004F5 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   577 000004F8 FC                              	CLD
   578 000004F9 BF [0000000E]                   	MOV	EDI,LC4
   579 000004FE 89 C1                           	MOV	ECX,EAX
   580 00000500 F3                              	REPE
   581 00000501 A6                              	CMPSB
   582 00000502 75 09                           	JNE	L112
   583 00000504 83 3B 00                        	CMP	DWORD [EBX],0
   584 00000507 0F 85 000000C2                  	JNE	L125
   585 0000050D                                 L112:
   586 0000050D B8 00000005                     	MOV	EAX,5
   587 00000512 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   588 00000515 FC                              	CLD
   589 00000516 BF [00000014]                   	MOV	EDI,LC5
   590 0000051B 89 C1                           	MOV	ECX,EAX
   591 0000051D F3                              	REPE
   592 0000051E A6                              	CMPSB
   593 0000051F 0F 84 00000095                  	JE	L126
   594 00000525 B8 00000006                     	MOV	EAX,6
   595 0000052A 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   596 0000052D FC                              	CLD
   597 0000052E BF [00000019]                   	MOV	EDI,LC6
   598 00000533 89 C1                           	MOV	ECX,EAX
   599 00000535 F3                              	REPE
   600 00000536 A6                              	CMPSB
   601 00000537 74 66                           	JE	L127
   602 00000539 B8 00000005                     	MOV	EAX,5
   603 0000053E 8B 75 E8                        	MOV	ESI,DWORD [-24+EBP]
   604 00000541 FC                              	CLD
   605 00000542 BF [00000020]                   	MOV	EDI,LC7
   606 00000547 89 C1                           	MOV	ECX,EAX
   607 00000549 F3                              	REPE
   608 0000054A A6                              	CMPSB
   609 0000054B 74 37                           	JE	L128
   610 0000054D 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   611 00000550 80 38 00                        	CMP	BYTE [EAX],0
   612 00000553 75 08                           	JNE	L129
   613 00000555                                 L105:
   614 00000555 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   615 00000558 5B                              	POP	EBX
   616 00000559 5E                              	POP	ESI
   617 0000055A 5F                              	POP	EDI
   618 0000055B 5D                              	POP	EBP
   619 0000055C C3                              	RET
   620 0000055D                                 L129:
   621 0000055D 50                              	PUSH	EAX
   622 0000055E FF 75 F0                        	PUSH	DWORD [-16+EBP]
   623 00000561 53                              	PUSH	EBX
   624 00000562 E8 000003F8                     	CALL	_cmd_app
   625 00000567 83 C4 0C                        	ADD	ESP,12
   626 0000056A 85 C0                           	TEST	EAX,EAX
   627 0000056C 75 E7                           	JNE	L105
   628 0000056E C7 45 0C [00000026]             	MOV	DWORD [12+EBP],LC8
   629 00000575 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   630 00000578 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   631 0000057B 5B                              	POP	EBX
   632 0000057C 5E                              	POP	ESI
   633 0000057D 5F                              	POP	EDI
   634 0000057E 5D                              	POP	EBP
   635 0000057F E9 FFFFFE96                     	JMP	_cons_putstr0
   636 00000584                                 L128:
   637 00000584 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   638 00000587 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   639 0000058A 89 45 10                        	MOV	DWORD [16+EBP],EAX
   640 0000058D 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   641 00000590 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   642 00000593 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   643 00000596 5B                              	POP	EBX
   644 00000597 5E                              	POP	ESI
   645 00000598 5F                              	POP	EDI
   646 00000599 5D                              	POP	EBP
   647 0000059A E9 0000035C                     	JMP	_cmd_ncst
   648 0000059F                                 L127:
   649 0000059F 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   650 000005A2 8B 4D E8                        	MOV	ECX,DWORD [-24+EBP]
   651 000005A5 89 45 10                        	MOV	DWORD [16+EBP],EAX
   652 000005A8 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   653 000005AB 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   654 000005AE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   655 000005B1 5B                              	POP	EBX
   656 000005B2 5E                              	POP	ESI
   657 000005B3 5F                              	POP	EDI
   658 000005B4 5D                              	POP	EBP
   659 000005B5 E9 000002B7                     	JMP	_cmd_start
   660 000005BA                                 L126:
   661 000005BA 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   662 000005BD 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   663 000005C0 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   664 000005C3 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   665 000005C6 5B                              	POP	EBX
   666 000005C7 5E                              	POP	ESI
   667 000005C8 5F                              	POP	EDI
   668 000005C9 5D                              	POP	EBP
   669 000005CA E9 0000020A                     	JMP	_cmd_exit
   670 000005CF                                 L125:
   671 000005CF 8B 45 E8                        	MOV	EAX,DWORD [-24+EBP]
   672 000005D2 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
   673 000005D5 89 45 10                        	MOV	DWORD [16+EBP],EAX
   674 000005D8 89 4D 0C                        	MOV	DWORD [12+EBP],ECX
   675 000005DB 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   676 000005DE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   677 000005E1 5B                              	POP	EBX
   678 000005E2 5E                              	POP	ESI
   679 000005E3 5F                              	POP	EDI
   680 000005E4 5D                              	POP	EBP
   681 000005E5 E9 00000162                     	JMP	_cmd_type
   682 000005EA                                 L124:
   683 000005EA 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   684 000005ED 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   685 000005F0 5B                              	POP	EBX
   686 000005F1 5E                              	POP	ESI
   687 000005F2 5F                              	POP	EDI
   688 000005F3 5D                              	POP	EBP
   689 000005F4 E9 000000B8                     	JMP	_cmd_dir
   690 000005F9                                 L123:
   691 000005F9 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   692 000005FC 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   693 000005FF 5B                              	POP	EBX
   694 00000600 5E                              	POP	ESI
   695 00000601 5F                              	POP	EDI
   696 00000602 5D                              	POP	EBP
   697 00000603 EB 53                           	JMP	_cmd_cls
   698 00000605                                 L122:
   699 00000605 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
   700 00000608 89 5D 08                        	MOV	DWORD [8+EBP],EBX
   701 0000060B 89 45 0C                        	MOV	DWORD [12+EBP],EAX
   702 0000060E 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   703 00000611 5B                              	POP	EBX
   704 00000612 5E                              	POP	ESI
   705 00000613 5F                              	POP	EDI
   706 00000614 5D                              	POP	EBP
   707 00000615 EB 00                           	JMP	_cmd_mem
   708                                          [SECTION .data]
   709 00000035                                 LC9:
   710 00000035 74 6F 74 61 6C 20 25 64 4D 42   	DB	"total %dMB",0x0A,"free %dKB",0x0A,0x0A,0x00
       0000003F 0A 66 72 65 65 20 25 64 4B 42 
       00000049 0A 0A 00 
   711                                          [SECTION .text]
   712 00000617                                 	GLOBAL	_cmd_mem
   713 00000617                                 _cmd_mem:
   714 00000617 55                              	PUSH	EBP
   715 00000618 89 E5                           	MOV	EBP,ESP
   716 0000061A 53                              	PUSH	EBX
   717 0000061B 83 EC 40                        	SUB	ESP,64
   718 0000061E 68 003C0000                     	PUSH	3932160
   719 00000623 E8 [00000000]                   	CALL	_memman_total
   720 00000628 BA 00100000                     	MOV	EDX,1048576
   721 0000062D C1 E8 0A                        	SHR	EAX,10
   722 00000630 89 D3                           	MOV	EBX,EDX
   723 00000632 89 04 24                        	MOV	DWORD [ESP],EAX
   724 00000635 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   725 00000638 99                              	CDQ
   726 00000639 F7 FB                           	IDIV	EBX
   727 0000063B 50                              	PUSH	EAX
   728 0000063C 8D 5D BC                        	LEA	EBX,DWORD [-68+EBP]
   729 0000063F 68 [00000035]                   	PUSH	LC9
   730 00000644 53                              	PUSH	EBX
   731 00000645 E8 [00000000]                   	CALL	_sprintf
   732 0000064A 53                              	PUSH	EBX
   733 0000064B FF 75 08                        	PUSH	DWORD [8+EBP]
   734 0000064E E8 FFFFFDC7                     	CALL	_cons_putstr0
   735 00000653 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   736 00000656 C9                              	LEAVE
   737 00000657 C3                              	RET
   738 00000658                                 	GLOBAL	_cmd_cls
   739 00000658                                 _cmd_cls:
   740 00000658 55                              	PUSH	EBP
   741 00000659 89 E5                           	MOV	EBP,ESP
   742 0000065B 57                              	PUSH	EDI
   743 0000065C 56                              	PUSH	ESI
   744 0000065D BE 0000001C                     	MOV	ESI,28
   745 00000662 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   746 00000665 53                              	PUSH	EBX
   747 00000666 8B 1F                           	MOV	EBX,DWORD [EDI]
   748 00000668                                 L141:
   749 00000668 B9 00000008                     	MOV	ECX,8
   750 0000066D                                 L140:
   751 0000066D 89 F0                           	MOV	EAX,ESI
   752 0000066F 8B 13                           	MOV	EDX,DWORD [EBX]
   753 00000671 0F AF 43 0C                     	IMUL	EAX,DWORD [12+EBX]
   754 00000675 8D 04 08                        	LEA	EAX,DWORD [EAX+ECX*1]
   755 00000678 41                              	INC	ECX
   756 00000679 81 F9 000000F7                  	CMP	ECX,247
   757 0000067F C6 04 10 00                     	MOV	BYTE [EAX+EDX*1],0
   758 00000683 7E E8                           	JLE	L140
   759 00000685 46                              	INC	ESI
   760 00000686 81 FE 0000009B                  	CMP	ESI,155
   761 0000068C 7E DA                           	JLE	L141
   762 0000068E 68 0000009C                     	PUSH	156
   763 00000693 68 000000F8                     	PUSH	248
   764 00000698 6A 1C                           	PUSH	28
   765 0000069A 6A 08                           	PUSH	8
   766 0000069C 53                              	PUSH	EBX
   767 0000069D E8 [00000000]                   	CALL	_sheet_refresh
   768 000006A2 C7 47 08 0000001C               	MOV	DWORD [8+EDI],28
   769 000006A9 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   770 000006AC 5B                              	POP	EBX
   771 000006AD 5E                              	POP	ESI
   772 000006AE 5F                              	POP	EDI
   773 000006AF 5D                              	POP	EBP
   774 000006B0 C3                              	RET
   775                                          [SECTION .data]
   776 0000004C                                 LC10:
   777 0000004C 66 69 6C 65 6E 61 6D 65 2E 65   	DB	"filename.ext %7d  %3d",0x0A,0x00
       00000056 78 74 20 25 37 64 20 20 25 33 
       00000060 64 0A 00 
   778                                          [SECTION .text]
   779 000006B1                                 	GLOBAL	_cmd_dir
   780 000006B1                                 _cmd_dir:
   781 000006B1 55                              	PUSH	EBP
   782 000006B2 89 E5                           	MOV	EBP,ESP
   783 000006B4 57                              	PUSH	EDI
   784 000006B5 56                              	PUSH	ESI
   785 000006B6 31 F6                           	XOR	ESI,ESI
   786 000006B8 53                              	PUSH	EBX
   787 000006B9 31 DB                           	XOR	EBX,EBX
   788 000006BB 83 EC 20                        	SUB	ESP,32
   789 000006BE 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   790 000006C1                                 L159:
   791 000006C1 8A 83 00102600                  	MOV	AL,BYTE [1058304+EBX]
   792 000006C7 84 C0                           	TEST	AL,AL
   793 000006C9 74 16                           	JE	L148
   794 000006CB 3C E5                           	CMP	AL,-27
   795 000006CD 74 09                           	JE	L149
   796 000006CF F6 83 0010260B 18               	TEST	BYTE [1058315+EBX],24
   797 000006D6 74 17                           	JE	L163
   798 000006D8                                 L149:
   799 000006D8 46                              	INC	ESI
   800 000006D9 83 C3 20                        	ADD	EBX,32
   801 000006DC 83 FE 77                        	CMP	ESI,119
   802 000006DF 7E E0                           	JLE	L159
   803 000006E1                                 L148:
   804 000006E1 57                              	PUSH	EDI
   805 000006E2 E8 FFFFFC72                     	CALL	_cons_newline
   806 000006E7 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   807 000006EA 5B                              	POP	EBX
   808 000006EB 5E                              	POP	ESI
   809 000006EC 5F                              	POP	EDI
   810 000006ED 5D                              	POP	EBP
   811 000006EE C3                              	RET
   812 000006EF                                 L163:
   813 000006EF 0F B7 83 0010261A               	MOVZX	EAX,WORD [1058330+EBX]
   814 000006F6 50                              	PUSH	EAX
   815 000006F7 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   816 000006FA FF B3 0010261C                  	PUSH	DWORD [1058332+EBX]
   817 00000700 68 [0000004C]                   	PUSH	LC10
   818 00000705 50                              	PUSH	EAX
   819 00000706 E8 [00000000]                   	CALL	_sprintf
   820 0000070B 8D 93 00102600                  	LEA	EDX,DWORD [1058304+EBX]
   821 00000711 31 C9                           	XOR	ECX,ECX
   822 00000713 83 C4 10                        	ADD	ESP,16
   823 00000716                                 L158:
   824 00000716 8A 02                           	MOV	AL,BYTE [EDX]
   825 00000718 42                              	INC	EDX
   826 00000719 88 44 0D D4                     	MOV	BYTE [-44+EBP+ECX*1],AL
   827 0000071D 41                              	INC	ECX
   828 0000071E 83 F9 07                        	CMP	ECX,7
   829 00000721 7E F3                           	JLE	L158
   830 00000723 8A 83 00102608                  	MOV	AL,BYTE [1058312+EBX]
   831 00000729 88 45 DD                        	MOV	BYTE [-35+EBP],AL
   832 0000072C 8A 83 00102609                  	MOV	AL,BYTE [1058313+EBX]
   833 00000732 88 45 DE                        	MOV	BYTE [-34+EBP],AL
   834 00000735 8A 83 0010260A                  	MOV	AL,BYTE [1058314+EBX]
   835 0000073B 88 45 DF                        	MOV	BYTE [-33+EBP],AL
   836 0000073E 8D 45 D4                        	LEA	EAX,DWORD [-44+EBP]
   837 00000741 50                              	PUSH	EAX
   838 00000742 57                              	PUSH	EDI
   839 00000743 E8 FFFFFCD2                     	CALL	_cons_putstr0
   840 00000748 58                              	POP	EAX
   841 00000749 5A                              	POP	EDX
   842 0000074A EB 8C                           	JMP	L149
   843                                          [SECTION .data]
   844 00000063                                 LC11:
   845 00000063 46 69 6C 65 20 6E 6F 74 20 66   	DB	"File not found.",0x0A,0x00
       0000006D 6F 75 6E 64 2E 0A 00 
   846                                          [SECTION .text]
   847 0000074C                                 	GLOBAL	_cmd_type
   848 0000074C                                 _cmd_type:
   849 0000074C 55                              	PUSH	EBP
   850 0000074D 89 E5                           	MOV	EBP,ESP
   851 0000074F 57                              	PUSH	EDI
   852 00000750 56                              	PUSH	ESI
   853 00000751 53                              	PUSH	EBX
   854 00000752 56                              	PUSH	ESI
   855 00000753 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   856 00000756 8B 7D 08                        	MOV	EDI,DWORD [8+EBP]
   857 00000759 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   858 0000075C 6A 78                           	PUSH	120
   859 0000075E 68 00102600                     	PUSH	1058304
   860 00000763 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   861 00000766 83 C0 05                        	ADD	EAX,5
   862 00000769 50                              	PUSH	EAX
   863 0000076A E8 [00000000]                   	CALL	_file_search
   864 0000076F 83 C4 0C                        	ADD	ESP,12
   865 00000772 89 C6                           	MOV	ESI,EAX
   866 00000774 85 C0                           	TEST	EAX,EAX
   867 00000776 74 52                           	JE	L165
   868 00000778 FF 70 1C                        	PUSH	DWORD [28+EAX]
   869 0000077B 68 003C0000                     	PUSH	3932160
   870 00000780 E8 [00000000]                   	CALL	_memman_alloc_4k
   871 00000785 68 00103E00                     	PUSH	1064448
   872 0000078A FF 75 F0                        	PUSH	DWORD [-16+EBP]
   873 0000078D 50                              	PUSH	EAX
   874 0000078E 89 C3                           	MOV	EBX,EAX
   875 00000790 FF 76 1C                        	PUSH	DWORD [28+ESI]
   876 00000793 0F B7 46 1A                     	MOVZX	EAX,WORD [26+ESI]
   877 00000797 50                              	PUSH	EAX
   878 00000798 E8 [00000000]                   	CALL	_file_loadfile
   879 0000079D FF 76 1C                        	PUSH	DWORD [28+ESI]
   880 000007A0 53                              	PUSH	EBX
   881 000007A1 57                              	PUSH	EDI
   882 000007A2 E8 FFFFFCA1                     	CALL	_cons_putstr1
   883 000007A7 83 C4 28                        	ADD	ESP,40
   884 000007AA FF 76 1C                        	PUSH	DWORD [28+ESI]
   885 000007AD 53                              	PUSH	EBX
   886 000007AE 68 003C0000                     	PUSH	3932160
   887 000007B3 E8 [00000000]                   	CALL	_memman_free_4k
   888 000007B8 83 C4 0C                        	ADD	ESP,12
   889 000007BB                                 L166:
   890 000007BB 89 7D 08                        	MOV	DWORD [8+EBP],EDI
   891 000007BE 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   892 000007C1 5B                              	POP	EBX
   893 000007C2 5E                              	POP	ESI
   894 000007C3 5F                              	POP	EDI
   895 000007C4 5D                              	POP	EBP
   896 000007C5 E9 FFFFFB8F                     	JMP	_cons_newline
   897 000007CA                                 L165:
   898 000007CA 68 [00000063]                   	PUSH	LC11
   899 000007CF 57                              	PUSH	EDI
   900 000007D0 E8 FFFFFC45                     	CALL	_cons_putstr0
   901 000007D5 59                              	POP	ECX
   902 000007D6 5B                              	POP	EBX
   903 000007D7 EB E2                           	JMP	L166
   904 000007D9                                 	GLOBAL	_cmd_exit
   905 000007D9                                 _cmd_exit:
   906 000007D9 55                              	PUSH	EBP
   907 000007DA 89 E5                           	MOV	EBP,ESP
   908 000007DC 57                              	PUSH	EDI
   909 000007DD 56                              	PUSH	ESI
   910 000007DE 53                              	PUSH	EBX
   911 000007DF 53                              	PUSH	EBX
   912 000007E0 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   913 000007E3 E8 [00000000]                   	CALL	_task_now
   914 000007E8 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   915 000007EE 8B 3D 00000FEC                  	MOV	EDI,DWORD [4076]
   916 000007F4 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   917 000007F7 83 3B 00                        	CMP	DWORD [EBX],0
   918 000007FA 74 09                           	JE	L168
   919 000007FC FF 73 10                        	PUSH	DWORD [16+EBX]
   920 000007FF E8 [00000000]                   	CALL	_timer_cancel
   921 00000804 59                              	POP	ECX
   922 00000805                                 L168:
   923 00000805 68 00002D00                     	PUSH	11520
   924 0000080A FF 75 0C                        	PUSH	DWORD [12+EBP]
   925 0000080D 68 003C0000                     	PUSH	3932160
   926 00000812 E8 [00000000]                   	CALL	_memman_free_4k
   927 00000817 E8 [00000000]                   	CALL	_io_cli
   928 0000081C 8B 03                           	MOV	EAX,DWORD [EBX]
   929 0000081E 83 C4 0C                        	ADD	ESP,12
   930 00000821 85 C0                           	TEST	EAX,EAX
   931 00000823 74 2E                           	JE	L169
   932 00000825 29 F0                           	SUB	EAX,ESI
   933 00000827 2D 00000414                     	SUB	EAX,1044
   934 0000082C C1 F8 03                        	SAR	EAX,3
   935 0000082F 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
   936 00000835 05 00000300                     	ADD	EAX,768
   937 0000083A                                 L174:
   938 0000083A 50                              	PUSH	EAX
   939 0000083B 57                              	PUSH	EDI
   940 0000083C E8 [00000000]                   	CALL	_fifo32_put
   941 00000841 58                              	POP	EAX
   942 00000842 5A                              	POP	EDX
   943 00000843 E8 [00000000]                   	CALL	_io_sti
   944 00000848                                 L171:
   945 00000848 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   946 0000084B E8 [00000000]                   	CALL	_task_sleep
   947 00000850 5F                              	POP	EDI
   948 00000851 EB F5                           	JMP	L171
   949 00000853                                 L169:
   950 00000853 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   951 00000856 2B 05 [00000000]                	SUB	EAX,DWORD [_taskctl]
   952 0000085C 2D 00000FF8                     	SUB	EAX,4088
   953 00000861 C1 F8 04                        	SAR	EAX,4
   954 00000864 69 C0 BA2E8BA3                  	IMUL	EAX,EAX,-1171354717
   955 0000086A 05 00000400                     	ADD	EAX,1024
   956 0000086F EB C9                           	JMP	L174
   957 00000871                                 	GLOBAL	_cmd_start
   958 00000871                                 _cmd_start:
   959 00000871 55                              	PUSH	EBP
   960 00000872 89 E5                           	MOV	EBP,ESP
   961 00000874 57                              	PUSH	EDI
   962 00000875 56                              	PUSH	ESI
   963 00000876 53                              	PUSH	EBX
   964 00000877 51                              	PUSH	ECX
   965 00000878 51                              	PUSH	ECX
   966 00000879 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
   967 0000087C 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   968 0000087F 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
   969 00000885 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   970 00000888 FF 75 10                        	PUSH	DWORD [16+EBP]
   971 0000088B 56                              	PUSH	ESI
   972 0000088C E8 [00000000]                   	CALL	_open_console
   973 00000891 89 C3                           	MOV	EBX,EAX
   974 00000893 8B 40 08                        	MOV	EAX,DWORD [8+EAX]
   975 00000896 83 C0 10                        	ADD	EAX,16
   976 00000899 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   977 0000089C 6A 04                           	PUSH	4
   978 0000089E 6A 20                           	PUSH	32
   979 000008A0 53                              	PUSH	EBX
   980 000008A1 E8 [00000000]                   	CALL	_sheet_slide
   981 000008A6 FF 76 10                        	PUSH	DWORD [16+ESI]
   982 000008A9 53                              	PUSH	EBX
   983 000008AA BB 00000006                     	MOV	EBX,6
   984 000008AF E8 [00000000]                   	CALL	_sheet_updown
   985 000008B4 83 C4 1C                        	ADD	ESP,28
   986 000008B7 80 7F 06 00                     	CMP	BYTE [6+EDI],0
   987 000008BB 75 21                           	JNE	L180
   988 000008BD                                 L182:
   989 000008BD 68 0000010A                     	PUSH	266
   990 000008C2 FF 75 EC                        	PUSH	DWORD [-20+EBP]
   991 000008C5 E8 [00000000]                   	CALL	_fifo32_put
   992 000008CA 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   993 000008CD 5E                              	POP	ESI
   994 000008CE 5F                              	POP	EDI
   995 000008CF 89 45 08                        	MOV	DWORD [8+EBP],EAX
   996 000008D2 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   997 000008D5 5B                              	POP	EBX
   998 000008D6 5E                              	POP	ESI
   999 000008D7 5F                              	POP	EDI
  1000 000008D8 5D                              	POP	EBP
  1001 000008D9 E9 FFFFFA7B                     	JMP	_cons_newline
  1002 000008DE                                 L180:
  1003 000008DE 0F BE 04 3B                     	MOVSX	EAX,BYTE [EBX+EDI*1]
  1004 000008E2 05 00000100                     	ADD	EAX,256
  1005 000008E7 43                              	INC	EBX
  1006 000008E8 50                              	PUSH	EAX
  1007 000008E9 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1008 000008EC E8 [00000000]                   	CALL	_fifo32_put
  1009 000008F1 80 3C 3B 00                     	CMP	BYTE [EBX+EDI*1],0
  1010 000008F5 58                              	POP	EAX
  1011 000008F6 5A                              	POP	EDX
  1012 000008F7 75 E5                           	JNE	L180
  1013 000008F9 EB C2                           	JMP	L182
  1014 000008FB                                 	GLOBAL	_cmd_ncst
  1015 000008FB                                 _cmd_ncst:
  1016 000008FB 55                              	PUSH	EBP
  1017 000008FC 89 E5                           	MOV	EBP,ESP
  1018 000008FE 57                              	PUSH	EDI
  1019 000008FF 56                              	PUSH	ESI
  1020 00000900 BE 00000005                     	MOV	ESI,5
  1021 00000905 53                              	PUSH	EBX
  1022 00000906 50                              	PUSH	EAX
  1023 00000907 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1024 0000090A 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1025 0000090D 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1026 00000910 FF 75 10                        	PUSH	DWORD [16+EBP]
  1027 00000913 6A 00                           	PUSH	0
  1028 00000915 E8 [00000000]                   	CALL	_open_constask
  1029 0000091A 59                              	POP	ECX
  1030 0000091B 80 7B 05 00                     	CMP	BYTE [5+EBX],0
  1031 0000091F 8D 78 10                        	LEA	EDI,DWORD [16+EAX]
  1032 00000922 58                              	POP	EAX
  1033 00000923 75 1F                           	JNE	L188
  1034 00000925                                 L190:
  1035 00000925 68 0000010A                     	PUSH	266
  1036 0000092A 57                              	PUSH	EDI
  1037 0000092B E8 [00000000]                   	CALL	_fifo32_put
  1038 00000930 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1039 00000933 5B                              	POP	EBX
  1040 00000934 5E                              	POP	ESI
  1041 00000935 89 45 08                        	MOV	DWORD [8+EBP],EAX
  1042 00000938 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1043 0000093B 5B                              	POP	EBX
  1044 0000093C 5E                              	POP	ESI
  1045 0000093D 5F                              	POP	EDI
  1046 0000093E 5D                              	POP	EBP
  1047 0000093F E9 FFFFFA15                     	JMP	_cons_newline
  1048 00000944                                 L188:
  1049 00000944 0F BE 04 1E                     	MOVSX	EAX,BYTE [ESI+EBX*1]
  1050 00000948 05 00000100                     	ADD	EAX,256
  1051 0000094D 46                              	INC	ESI
  1052 0000094E 50                              	PUSH	EAX
  1053 0000094F 57                              	PUSH	EDI
  1054 00000950 E8 [00000000]                   	CALL	_fifo32_put
  1055 00000955 80 3C 1E 00                     	CMP	BYTE [ESI+EBX*1],0
  1056 00000959 58                              	POP	EAX
  1057 0000095A 5A                              	POP	EDX
  1058 0000095B 75 E7                           	JNE	L188
  1059 0000095D EB C6                           	JMP	L190
  1060                                          [SECTION .data]
  1061 00000074                                 LC12:
  1062 00000074 48 61 72 69 00                  	DB	"Hari",0x00
  1063 00000079                                 LC13:
  1064 00000079 2E 68 72 62 20 66 69 6C 65 20   	DB	".hrb file format error.",0x0A,0x00
       00000083 66 6F 72 6D 61 74 20 65 72 72 
       0000008D 6F 72 2E 0A 00 
  1065                                          [SECTION .text]
  1066 0000095F                                 	GLOBAL	_cmd_app
  1067 0000095F                                 _cmd_app:
  1068 0000095F 55                              	PUSH	EBP
  1069 00000960 89 E5                           	MOV	EBP,ESP
  1070 00000962 57                              	PUSH	EDI
  1071 00000963 56                              	PUSH	ESI
  1072 00000964 53                              	PUSH	EBX
  1073 00000965 31 DB                           	XOR	EBX,EBX
  1074 00000967 83 EC 38                        	SUB	ESP,56
  1075 0000096A 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
  1076 0000096D E8 [00000000]                   	CALL	_task_now
  1077 00000972 89 45 C8                        	MOV	DWORD [-56+EBP],EAX
  1078 00000975                                 L197:
  1079 00000975 8A 04 33                        	MOV	AL,BYTE [EBX+ESI*1]
  1080 00000978 3C 20                           	CMP	AL,32
  1081 0000097A 7E 0A                           	JLE	L193
  1082 0000097C 88 44 1D D4                     	MOV	BYTE [-44+EBP+EBX*1],AL
  1083 00000980 43                              	INC	EBX
  1084 00000981 83 FB 0C                        	CMP	EBX,12
  1085 00000984 7E EF                           	JLE	L197
  1086 00000986                                 L193:
  1087 00000986 6A 78                           	PUSH	120
  1088 00000988 8D 75 D4                        	LEA	ESI,DWORD [-44+EBP]
  1089 0000098B 68 00102600                     	PUSH	1058304
  1090 00000990 56                              	PUSH	ESI
  1091 00000991 C6 44 1D D4 00                  	MOV	BYTE [-44+EBP+EBX*1],0
  1092 00000996 E8 [00000000]                   	CALL	_file_search
  1093 0000099B 83 C4 0C                        	ADD	ESP,12
  1094 0000099E 85 C0                           	TEST	EAX,EAX
  1095 000009A0 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1096 000009A3 0F 84 00000179                  	JE	L219
  1097 000009A9                                 L218:
  1098 000009A9 8B 45 D0                        	MOV	EAX,DWORD [-48+EBP]
  1099 000009AC FF 70 1C                        	PUSH	DWORD [28+EAX]
  1100 000009AF 68 003C0000                     	PUSH	3932160
  1101 000009B4 E8 [00000000]                   	CALL	_memman_alloc_4k
  1102 000009B9 8B 55 D0                        	MOV	EDX,DWORD [-48+EBP]
  1103 000009BC 68 00103E00                     	PUSH	1064448
  1104 000009C1 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1105 000009C4 50                              	PUSH	EAX
  1106 000009C5 89 45 BC                        	MOV	DWORD [-68+EBP],EAX
  1107 000009C8 FF 72 1C                        	PUSH	DWORD [28+EDX]
  1108 000009CB 0F B7 42 1A                     	MOVZX	EAX,WORD [26+EDX]
  1109 000009CF 50                              	PUSH	EAX
  1110 000009D0 E8 [00000000]                   	CALL	_file_loadfile
  1111 000009D5 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1112 000009D8 83 C4 1C                        	ADD	ESP,28
  1113 000009DB 83 7F 1C 23                     	CMP	DWORD [28+EDI],35
  1114 000009DF 76 1F                           	JBE	L200
  1115 000009E1 8B 75 BC                        	MOV	ESI,DWORD [-68+EBP]
  1116 000009E4 B8 [00000074]                   	MOV	EAX,LC12
  1117 000009E9 FC                              	CLD
  1118 000009EA 83 C6 04                        	ADD	ESI,4
  1119 000009ED B9 00000004                     	MOV	ECX,4
  1120 000009F2 89 C7                           	MOV	EDI,EAX
  1121 000009F4 F3                              	REPE
  1122 000009F5 A6                              	CMPSB
  1123 000009F6 75 08                           	JNE	L200
  1124 000009F8 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
  1125 000009FB 80 38 00                        	CMP	BYTE [EAX],0
  1126 000009FE 74 37                           	JE	L220
  1127 00000A00                                 L200:
  1128 00000A00 68 [00000079]                   	PUSH	LC13
  1129 00000A05 FF 75 08                        	PUSH	DWORD [8+EBP]
  1130 00000A08 E8 FFFFFA0D                     	CALL	_cons_putstr0
  1131 00000A0D 58                              	POP	EAX
  1132 00000A0E 5A                              	POP	EDX
  1133 00000A0F                                 L212:
  1134 00000A0F 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1135 00000A12 FF 77 1C                        	PUSH	DWORD [28+EDI]
  1136 00000A15 FF 75 BC                        	PUSH	DWORD [-68+EBP]
  1137 00000A18 68 003C0000                     	PUSH	3932160
  1138 00000A1D E8 [00000000]                   	CALL	_memman_free_4k
  1139 00000A22 FF 75 08                        	PUSH	DWORD [8+EBP]
  1140 00000A25 E8 FFFFF92F                     	CALL	_cons_newline
  1141 00000A2A B8 00000001                     	MOV	EAX,1
  1142 00000A2F                                 L191:
  1143 00000A2F 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1144 00000A32 5B                              	POP	EBX
  1145 00000A33 5E                              	POP	ESI
  1146 00000A34 5F                              	POP	EDI
  1147 00000A35 5D                              	POP	EBP
  1148 00000A36 C3                              	RET
  1149 00000A37                                 L220:
  1150 00000A37 8B 10                           	MOV	EDX,DWORD [EAX]
  1151 00000A39 8B 78 0C                        	MOV	EDI,DWORD [12+EAX]
  1152 00000A3C 8B 58 10                        	MOV	EBX,DWORD [16+EAX]
  1153 00000A3F 8B 70 14                        	MOV	ESI,DWORD [20+EAX]
  1154 00000A42 52                              	PUSH	EDX
  1155 00000A43 89 55 C4                        	MOV	DWORD [-60+EBP],EDX
  1156 00000A46 68 003C0000                     	PUSH	3932160
  1157 00000A4B 89 7D C0                        	MOV	DWORD [-64+EBP],EDI
  1158 00000A4E E8 [00000000]                   	CALL	_memman_alloc_4k
  1159 00000A53 8B 7D D0                        	MOV	EDI,DWORD [-48+EBP]
  1160 00000A56 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1161 00000A59 89 45 CC                        	MOV	DWORD [-52+EBP],EAX
  1162 00000A5C 89 82 000000A8                  	MOV	DWORD [168+EDX],EAX
  1163 00000A62 68 000040FA                     	PUSH	16634
  1164 00000A67 FF 75 BC                        	PUSH	DWORD [-68+EBP]
  1165 00000A6A 8B 47 1C                        	MOV	EAX,DWORD [28+EDI]
  1166 00000A6D 48                              	DEC	EAX
  1167 00000A6E 50                              	PUSH	EAX
  1168 00000A6F 89 D0                           	MOV	EAX,EDX
  1169 00000A71 05 00000094                     	ADD	EAX,148
  1170 00000A76 50                              	PUSH	EAX
  1171 00000A77 E8 [00000000]                   	CALL	_set_segmdesc
  1172 00000A7C 8B 45 C4                        	MOV	EAX,DWORD [-60+EBP]
  1173 00000A7F 68 000040F2                     	PUSH	16626
  1174 00000A84 48                              	DEC	EAX
  1175 00000A85 FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1176 00000A88 50                              	PUSH	EAX
  1177 00000A89 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1178 00000A8C 05 0000009C                     	ADD	EAX,156
  1179 00000A91 50                              	PUSH	EAX
  1180 00000A92 E8 [00000000]                   	CALL	_set_segmdesc
  1181 00000A97 83 C4 28                        	ADD	ESP,40
  1182 00000A9A 85 DB                           	TEST	EBX,EBX
  1183 00000A9C 7E 15                           	JLE	L215
  1184 00000A9E 8B 4D C0                        	MOV	ECX,DWORD [-64+EBP]
  1185 00000AA1 8B 45 BC                        	MOV	EAX,DWORD [-68+EBP]
  1186 00000AA4 03 4D CC                        	ADD	ECX,DWORD [-52+EBP]
  1187 00000AA7 8D 14 30                        	LEA	EDX,DWORD [EAX+ESI*1]
  1188 00000AAA                                 L205:
  1189 00000AAA 8A 02                           	MOV	AL,BYTE [EDX]
  1190 00000AAC 42                              	INC	EDX
  1191 00000AAD 88 01                           	MOV	BYTE [ECX],AL
  1192 00000AAF 41                              	INC	ECX
  1193 00000AB0 4B                              	DEC	EBX
  1194 00000AB1 75 F7                           	JNE	L205
  1195 00000AB3                                 L215:
  1196 00000AB3 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1197 00000AB6 BB 000000FF                     	MOV	EBX,255
  1198 00000ABB 83 C0 30                        	ADD	EAX,48
  1199 00000ABE 50                              	PUSH	EAX
  1200 00000ABF 6A 0C                           	PUSH	12
  1201 00000AC1 FF 75 C0                        	PUSH	DWORD [-64+EBP]
  1202 00000AC4 6A 04                           	PUSH	4
  1203 00000AC6 6A 1B                           	PUSH	27
  1204 00000AC8 E8 [00000000]                   	CALL	_start_app
  1205 00000ACD 8B 35 00000FE4                  	MOV	ESI,DWORD [4068]
  1206 00000AD3 83 C4 14                        	ADD	ESP,20
  1207 00000AD6 81 C6 00000414                  	ADD	ESI,1044
  1208 00000ADC                                 L211:
  1209 00000ADC 8B 46 24                        	MOV	EAX,DWORD [36+ESI]
  1210 00000ADF 83 E0 11                        	AND	EAX,17
  1211 00000AE2 83 F8 11                        	CMP	EAX,17
  1212 00000AE5 74 2A                           	JE	L221
  1213 00000AE7                                 L208:
  1214 00000AE7 83 C6 28                        	ADD	ESI,40
  1215 00000AEA 4B                              	DEC	EBX
  1216 00000AEB 79 EF                           	JNS	L211
  1217 00000AED 8B 45 C8                        	MOV	EAX,DWORD [-56+EBP]
  1218 00000AF0 83 C0 10                        	ADD	EAX,16
  1219 00000AF3 50                              	PUSH	EAX
  1220 00000AF4 E8 [00000000]                   	CALL	_timer_cancelall
  1221 00000AF9 FF 75 C4                        	PUSH	DWORD [-60+EBP]
  1222 00000AFC FF 75 CC                        	PUSH	DWORD [-52+EBP]
  1223 00000AFF 68 003C0000                     	PUSH	3932160
  1224 00000B04 E8 [00000000]                   	CALL	_memman_free_4k
  1225 00000B09 83 C4 10                        	ADD	ESP,16
  1226 00000B0C E9 FFFFFEFE                     	JMP	L212
  1227 00000B11                                 L221:
  1228 00000B11 8B 55 C8                        	MOV	EDX,DWORD [-56+EBP]
  1229 00000B14 39 56 08                        	CMP	DWORD [8+ESI],EDX
  1230 00000B17 75 CE                           	JNE	L208
  1231 00000B19 56                              	PUSH	ESI
  1232 00000B1A E8 [00000000]                   	CALL	_sheet_free
  1233 00000B1F 59                              	POP	ECX
  1234 00000B20 EB C5                           	JMP	L208
  1235 00000B22                                 L219:
  1236 00000B22 80 7C 1D D3 2E                  	CMP	BYTE [-45+EBP+EBX*1],46
  1237 00000B27 74 2C                           	JE	L198
  1238 00000B29 6A 78                           	PUSH	120
  1239 00000B2B 68 00102600                     	PUSH	1058304
  1240 00000B30 56                              	PUSH	ESI
  1241 00000B31 C6 44 1D D4 2E                  	MOV	BYTE [-44+EBP+EBX*1],46
  1242 00000B36 C6 44 1D D5 48                  	MOV	BYTE [-43+EBP+EBX*1],72
  1243 00000B3B C6 44 1D D6 52                  	MOV	BYTE [-42+EBP+EBX*1],82
  1244 00000B40 C6 44 1D D7 42                  	MOV	BYTE [-41+EBP+EBX*1],66
  1245 00000B45 C6 44 1D D8 00                  	MOV	BYTE [-40+EBP+EBX*1],0
  1246 00000B4A E8 [00000000]                   	CALL	_file_search
  1247 00000B4F 83 C4 0C                        	ADD	ESP,12
  1248 00000B52 89 45 D0                        	MOV	DWORD [-48+EBP],EAX
  1249 00000B55                                 L198:
  1250 00000B55 83 7D D0 00                     	CMP	DWORD [-48+EBP],0
  1251 00000B59 0F 85 FFFFFE4A                  	JNE	L218
  1252 00000B5F 31 C0                           	XOR	EAX,EAX
  1253 00000B61 E9 FFFFFEC9                     	JMP	L191
  1254 00000B66                                 	GLOBAL	_hrb_api
  1255 00000B66                                 _hrb_api:
  1256 00000B66 55                              	PUSH	EBP
  1257 00000B67 89 E5                           	MOV	EBP,ESP
  1258 00000B69 57                              	PUSH	EDI
  1259 00000B6A 56                              	PUSH	ESI
  1260 00000B6B 53                              	PUSH	EBX
  1261 00000B6C 83 EC 10                        	SUB	ESP,16
  1262 00000B6F 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
  1263 00000B72 E8 [00000000]                   	CALL	_task_now
  1264 00000B77 8B 15 00000FEC                  	MOV	EDX,DWORD [4076]
  1265 00000B7D 83 FB 01                        	CMP	EBX,1
  1266 00000B80 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
  1267 00000B83 8B B8 000000A8                  	MOV	EDI,DWORD [168+EAX]
  1268 00000B89 8B B0 000000A4                  	MOV	ESI,DWORD [164+EAX]
  1269 00000B8F 89 55 E8                        	MOV	DWORD [-24+EBP],EDX
  1270 00000B92 A1 00000FE4                     	MOV	EAX,DWORD [4068]
  1271 00000B97 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
  1272 00000B9A 0F 84 0000046C                  	JE	L287
  1273 00000BA0 83 FB 02                        	CMP	EBX,2
  1274 00000BA3 0F 84 00000452                  	JE	L288
  1275 00000BA9 83 FB 03                        	CMP	EBX,3
  1276 00000BAC 0F 84 00000435                  	JE	L289
  1277 00000BB2 83 FB 04                        	CMP	EBX,4
  1278 00000BB5 0F 84 00000421                  	JE	L290
  1279 00000BBB 83 FB 05                        	CMP	EBX,5
  1280 00000BBE 0F 84 0000039C                  	JE	L291
  1281 00000BC4 83 FB 06                        	CMP	EBX,6
  1282 00000BC7 0F 84 00000348                  	JE	L292
  1283 00000BCD 83 FB 07                        	CMP	EBX,7
  1284 00000BD0 0F 84 00000316                  	JE	L293
  1285 00000BD6 83 FB 08                        	CMP	EBX,8
  1286 00000BD9 0F 84 000002EA                  	JE	L294
  1287 00000BDF 83 FB 09                        	CMP	EBX,9
  1288 00000BE2 0F 84 000002C4                  	JE	L295
  1289 00000BE8 83 FB 0A                        	CMP	EBX,10
  1290 00000BEB 0F 84 0000029E                  	JE	L296
  1291 00000BF1 83 FB 0B                        	CMP	EBX,11
  1292 00000BF4 0F 84 0000025E                  	JE	L297
  1293 00000BFA 83 FB 0C                        	CMP	EBX,12
  1294 00000BFD 0F 84 00000244                  	JE	L298
  1295 00000C03 83 FB 0D                        	CMP	EBX,13
  1296 00000C06 0F 84 000001F2                  	JE	L299
  1297 00000C0C 83 FB 0E                        	CMP	EBX,14
  1298 00000C0F 0F 84 000001DC                  	JE	L300
  1299 00000C15 83 FB 0F                        	CMP	EBX,15
  1300 00000C18 0F 84 000000E9                  	JE	L256
  1301 00000C1E 83 FB 10                        	CMP	EBX,16
  1302 00000C21 0F 84 000000CF                  	JE	L301
  1303 00000C27 83 FB 11                        	CMP	EBX,17
  1304 00000C2A 0F 84 000000A9                  	JE	L302
  1305 00000C30 83 FB 12                        	CMP	EBX,18
  1306 00000C33 0F 84 0000008E                  	JE	L303
  1307 00000C39 83 FB 13                        	CMP	EBX,19
  1308 00000C3C 74 7B                           	JE	L304
  1309 00000C3E 83 FB 14                        	CMP	EBX,20
  1310 00000C41 74 0A                           	JE	L305
  1311 00000C43                                 L224:
  1312 00000C43 31 C0                           	XOR	EAX,EAX
  1313 00000C45                                 L222:
  1314 00000C45 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1315 00000C48 5B                              	POP	EBX
  1316 00000C49 5E                              	POP	ESI
  1317 00000C4A 5F                              	POP	EDI
  1318 00000C4B 5D                              	POP	EBP
  1319 00000C4C C3                              	RET
  1320 00000C4D                                 L305:
  1321 00000C4D 8B 55 24                        	MOV	EDX,DWORD [36+EBP]
  1322 00000C50 85 D2                           	TEST	EDX,EDX
  1323 00000C52 75 19                           	JNE	L277
  1324 00000C54 6A 61                           	PUSH	97
  1325 00000C56 E8 [00000000]                   	CALL	_io_in8
  1326 00000C5B 89 C3                           	MOV	EBX,EAX
  1327 00000C5D 83 E3 0D                        	AND	EBX,13
  1328 00000C60 53                              	PUSH	EBX
  1329 00000C61 6A 61                           	PUSH	97
  1330 00000C63 E8 [00000000]                   	CALL	_io_out8
  1331 00000C68                                 L279:
  1332 00000C68 83 C4 0C                        	ADD	ESP,12
  1333 00000C6B EB D6                           	JMP	L224
  1334 00000C6D                                 L277:
  1335 00000C6D B9 471E7B60                     	MOV	ECX,1193180000
  1336 00000C72 89 D6                           	MOV	ESI,EDX
  1337 00000C74 89 C8                           	MOV	EAX,ECX
  1338 00000C76 68 000000B6                     	PUSH	182
  1339 00000C7B 99                              	CDQ
  1340 00000C7C F7 FE                           	IDIV	ESI
  1341 00000C7E 6A 43                           	PUSH	67
  1342 00000C80 89 C3                           	MOV	EBX,EAX
  1343 00000C82 E8 [00000000]                   	CALL	_io_out8
  1344 00000C87 0F B6 C3                        	MOVZX	EAX,BL
  1345 00000C8A C1 FB 08                        	SAR	EBX,8
  1346 00000C8D 50                              	PUSH	EAX
  1347 00000C8E 6A 42                           	PUSH	66
  1348 00000C90 E8 [00000000]                   	CALL	_io_out8
  1349 00000C95 53                              	PUSH	EBX
  1350 00000C96 6A 42                           	PUSH	66
  1351 00000C98 E8 [00000000]                   	CALL	_io_out8
  1352 00000C9D 6A 61                           	PUSH	97
  1353 00000C9F E8 [00000000]                   	CALL	_io_in8
  1354 00000CA4 89 C3                           	MOV	EBX,EAX
  1355 00000CA6 83 CB 03                        	OR	EBX,3
  1356 00000CA9 83 E3 0F                        	AND	EBX,15
  1357 00000CAC 53                              	PUSH	EBX
  1358 00000CAD 6A 61                           	PUSH	97
  1359 00000CAF E8 [00000000]                   	CALL	_io_out8
  1360 00000CB4 83 C4 24                        	ADD	ESP,36
  1361 00000CB7 EB 8A                           	JMP	L224
  1362 00000CB9                                 L304:
  1363 00000CB9 FF 75 18                        	PUSH	DWORD [24+EBP]
  1364 00000CBC E8 [00000000]                   	CALL	_timer_free
  1365 00000CC1                                 L280:
  1366 00000CC1 5B                              	POP	EBX
  1367 00000CC2 E9 FFFFFF7C                     	JMP	L224
  1368 00000CC7                                 L303:
  1369 00000CC7 FF 75 24                        	PUSH	DWORD [36+EBP]
  1370 00000CCA FF 75 18                        	PUSH	DWORD [24+EBP]
  1371 00000CCD E8 [00000000]                   	CALL	_timer_settime
  1372 00000CD2                                 L282:
  1373 00000CD2 5E                              	POP	ESI
  1374 00000CD3 5F                              	POP	EDI
  1375 00000CD4 E9 FFFFFF6A                     	JMP	L224
  1376 00000CD9                                 L302:
  1377 00000CD9 8B 45 24                        	MOV	EAX,DWORD [36+EBP]
  1378 00000CDC 05 00000100                     	ADD	EAX,256
  1379 00000CE1 50                              	PUSH	EAX
  1380 00000CE2 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1381 00000CE5 83 C0 10                        	ADD	EAX,16
  1382 00000CE8 50                              	PUSH	EAX
  1383 00000CE9 FF 75 18                        	PUSH	DWORD [24+EBP]
  1384 00000CEC E8 [00000000]                   	CALL	_timer_init
  1385 00000CF1 E9 FFFFFF72                     	JMP	L279
  1386 00000CF6                                 L301:
  1387 00000CF6 E8 [00000000]                   	CALL	_timer_alloc
  1388 00000CFB 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1389 00000CFE C6 40 09 01                     	MOV	BYTE [9+EAX],1
  1390 00000D02 E9 FFFFFF3C                     	JMP	L224
  1391 00000D07                                 L256:
  1392 00000D07 E8 [00000000]                   	CALL	_io_cli
  1393 00000D0C 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1394 00000D0F 83 C0 10                        	ADD	EAX,16
  1395 00000D12 50                              	PUSH	EAX
  1396 00000D13 E8 [00000000]                   	CALL	_fifo32_status
  1397 00000D18 5A                              	POP	EDX
  1398 00000D19 85 C0                           	TEST	EAX,EAX
  1399 00000D1B 75 13                           	JNE	L259
  1400 00000D1D 83 7D 24 00                     	CMP	DWORD [36+EBP],0
  1401 00000D21 0F 84 000000B9                  	JE	L260
  1402 00000D27 FF 75 F0                        	PUSH	DWORD [-16+EBP]
  1403 00000D2A E8 [00000000]                   	CALL	_task_sleep
  1404 00000D2F 58                              	POP	EAX
  1405 00000D30                                 L259:
  1406 00000D30 8B 7D F0                        	MOV	EDI,DWORD [-16+EBP]
  1407 00000D33 83 C7 10                        	ADD	EDI,16
  1408 00000D36 57                              	PUSH	EDI
  1409 00000D37 E8 [00000000]                   	CALL	_fifo32_get
  1410 00000D3C 89 C3                           	MOV	EBX,EAX
  1411 00000D3E E8 [00000000]                   	CALL	_io_sti
  1412 00000D43 58                              	POP	EAX
  1413 00000D44 83 FB 01                        	CMP	EBX,1
  1414 00000D47 7E 75                           	JLE	L306
  1415 00000D49                                 L262:
  1416 00000D49 83 FB 02                        	CMP	EBX,2
  1417 00000D4C 74 67                           	JE	L307
  1418 00000D4E                                 L263:
  1419 00000D4E 83 FB 03                        	CMP	EBX,3
  1420 00000D51 74 59                           	JE	L308
  1421 00000D53                                 L264:
  1422 00000D53 83 FB 04                        	CMP	EBX,4
  1423 00000D56 74 16                           	JE	L309
  1424 00000D58                                 L265:
  1425 00000D58 81 FB 000000FF                  	CMP	EBX,255
  1426 00000D5E 7E A7                           	JLE	L256
  1427 00000D60 8D 83 FFFFFF00                  	LEA	EAX,DWORD [-256+EBX]
  1428 00000D66 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1429 00000D69 E9 FFFFFED5                     	JMP	L224
  1430 00000D6E                                 L309:
  1431 00000D6E FF 76 10                        	PUSH	DWORD [16+ESI]
  1432 00000D71 E8 [00000000]                   	CALL	_timer_cancel
  1433 00000D76 E8 [00000000]                   	CALL	_io_cli
  1434 00000D7B 8B 06                           	MOV	EAX,DWORD [ESI]
  1435 00000D7D 2B 45 EC                        	SUB	EAX,DWORD [-20+EBP]
  1436 00000D80 2D 00000414                     	SUB	EAX,1044
  1437 00000D85 C1 F8 03                        	SAR	EAX,3
  1438 00000D88 69 C0 CCCCCCCD                  	IMUL	EAX,EAX,-858993459
  1439 00000D8E 05 000007E8                     	ADD	EAX,2024
  1440 00000D93 50                              	PUSH	EAX
  1441 00000D94 FF 75 E8                        	PUSH	DWORD [-24+EBP]
  1442 00000D97 E8 [00000000]                   	CALL	_fifo32_put
  1443 00000D9C C7 06 00000000                  	MOV	DWORD [ESI],0
  1444 00000DA2 E8 [00000000]                   	CALL	_io_sti
  1445 00000DA7 83 C4 0C                        	ADD	ESP,12
  1446 00000DAA EB AC                           	JMP	L265
  1447 00000DAC                                 L308:
  1448 00000DAC C7 46 0C FFFFFFFF               	MOV	DWORD [12+ESI],-1
  1449 00000DB3 EB 9E                           	JMP	L264
  1450 00000DB5                                 L307:
  1451 00000DB5 C7 46 0C 00000007               	MOV	DWORD [12+ESI],7
  1452 00000DBC EB 90                           	JMP	L263
  1453 00000DBE                                 L306:
  1454 00000DBE 83 3E 00                        	CMP	DWORD [ESI],0
  1455 00000DC1 74 86                           	JE	L262
  1456 00000DC3 6A 01                           	PUSH	1
  1457 00000DC5 57                              	PUSH	EDI
  1458 00000DC6 FF 76 10                        	PUSH	DWORD [16+ESI]
  1459 00000DC9 E8 [00000000]                   	CALL	_timer_init
  1460 00000DCE 6A 32                           	PUSH	50
  1461 00000DD0 FF 76 10                        	PUSH	DWORD [16+ESI]
  1462 00000DD3 E8 [00000000]                   	CALL	_timer_settime
  1463 00000DD8 83 C4 14                        	ADD	ESP,20
  1464 00000DDB E9 FFFFFF69                     	JMP	L262
  1465 00000DE0                                 L260:
  1466 00000DE0 E8 [00000000]                   	CALL	_io_sti
  1467 00000DE5 C7 45 44 FFFFFFFF               	MOV	DWORD [68+EBP],-1
  1468 00000DEC E9 FFFFFE52                     	JMP	L224
  1469 00000DF1                                 L300:
  1470 00000DF1 FF 75 18                        	PUSH	DWORD [24+EBP]
  1471 00000DF4 E8 [00000000]                   	CALL	_sheet_free
  1472 00000DF9 E9 FFFFFEC3                     	JMP	L280
  1473 00000DFE                                 L299:
  1474 00000DFE FF 75 10                        	PUSH	DWORD [16+EBP]
  1475 00000E01 FF 75 08                        	PUSH	DWORD [8+EBP]
  1476 00000E04 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1477 00000E07 FF 75 20                        	PUSH	DWORD [32+EBP]
  1478 00000E0A 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1479 00000E0D FF 75 24                        	PUSH	DWORD [36+EBP]
  1480 00000E10 83 E6 FE                        	AND	ESI,-2
  1481 00000E13 56                              	PUSH	ESI
  1482 00000E14 E8 00000297                     	CALL	_hrb_api_linewin
  1483 00000E19 83 C4 18                        	ADD	ESP,24
  1484 00000E1C                                 L286:
  1485 00000E1C F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1486 00000E23 0F 85 FFFFFE1A                  	JNE	L224
  1487 00000E29 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1488 00000E2C 40                              	INC	EAX
  1489 00000E2D 50                              	PUSH	EAX
  1490 00000E2E 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1491 00000E31 40                              	INC	EAX
  1492 00000E32 50                              	PUSH	EAX
  1493 00000E33 FF 75 20                        	PUSH	DWORD [32+EBP]
  1494 00000E36 FF 75 24                        	PUSH	DWORD [36+EBP]
  1495 00000E39                                 L284:
  1496 00000E39 56                              	PUSH	ESI
  1497 00000E3A                                 L281:
  1498 00000E3A E8 [00000000]                   	CALL	_sheet_refresh
  1499 00000E3F                                 L283:
  1500 00000E3F 83 C4 14                        	ADD	ESP,20
  1501 00000E42 E9 FFFFFDFC                     	JMP	L224
  1502 00000E47                                 L298:
  1503 00000E47 FF 75 08                        	PUSH	DWORD [8+EBP]
  1504 00000E4A FF 75 0C                        	PUSH	DWORD [12+EBP]
  1505 00000E4D FF 75 20                        	PUSH	DWORD [32+EBP]
  1506 00000E50 FF 75 24                        	PUSH	DWORD [36+EBP]
  1507 00000E53 FF 75 18                        	PUSH	DWORD [24+EBP]
  1508 00000E56 EB E2                           	JMP	L281
  1509 00000E58                                 L297:
  1510 00000E58 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1511 00000E5B 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1512 00000E5E 83 E6 FE                        	AND	ESI,-2
  1513 00000E61 8A 55 24                        	MOV	DL,BYTE [36+EBP]
  1514 00000E64 0F AF 46 0C                     	IMUL	EAX,DWORD [12+ESI]
  1515 00000E68 03 45 0C                        	ADD	EAX,DWORD [12+EBP]
  1516 00000E6B 8B 0E                           	MOV	ECX,DWORD [ESI]
  1517 00000E6D 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1518 00000E70 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1519 00000E77 0F 85 FFFFFDC6                  	JNE	L224
  1520 00000E7D 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1521 00000E80 40                              	INC	EAX
  1522 00000E81 50                              	PUSH	EAX
  1523 00000E82 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
  1524 00000E85 40                              	INC	EAX
  1525 00000E86 50                              	PUSH	EAX
  1526 00000E87 FF 75 08                        	PUSH	DWORD [8+EBP]
  1527 00000E8A FF 75 0C                        	PUSH	DWORD [12+EBP]
  1528 00000E8D EB AA                           	JMP	L284
  1529 00000E8F                                 L296:
  1530 00000E8F 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1531 00000E92 83 C0 0F                        	ADD	EAX,15
  1532 00000E95 83 E0 F0                        	AND	EAX,-16
  1533 00000E98 50                              	PUSH	EAX
  1534 00000E99 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1535 00000E9C FF 75 24                        	PUSH	DWORD [36+EBP]
  1536 00000E9F 01 F8                           	ADD	EAX,EDI
  1537 00000EA1 50                              	PUSH	EAX
  1538 00000EA2 E8 [00000000]                   	CALL	_memman_free
  1539 00000EA7 E9 FFFFFDBC                     	JMP	L279
  1540 00000EAC                                 L295:
  1541 00000EAC 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1542 00000EAF 83 C0 0F                        	ADD	EAX,15
  1543 00000EB2 83 E0 F0                        	AND	EAX,-16
  1544 00000EB5 50                              	PUSH	EAX
  1545 00000EB6 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1546 00000EB9 01 F8                           	ADD	EAX,EDI
  1547 00000EBB 50                              	PUSH	EAX
  1548 00000EBC E8 [00000000]                   	CALL	_memman_alloc
  1549 00000EC1 89 45 44                        	MOV	DWORD [68+EBP],EAX
  1550 00000EC4 E9 FFFFFE09                     	JMP	L282
  1551 00000EC9                                 L294:
  1552 00000EC9 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1553 00000ECC 01 FB                           	ADD	EBX,EDI
  1554 00000ECE 53                              	PUSH	EBX
  1555 00000ECF E8 [00000000]                   	CALL	_memman_init
  1556 00000ED4 83 65 20 F0                     	AND	DWORD [32+EBP],-16
  1557 00000ED8 FF 75 20                        	PUSH	DWORD [32+EBP]
  1558 00000EDB FF 75 24                        	PUSH	DWORD [36+EBP]
  1559 00000EDE 53                              	PUSH	EBX
  1560 00000EDF E8 [00000000]                   	CALL	_memman_free
  1561 00000EE4 83 C4 10                        	ADD	ESP,16
  1562 00000EE7 E9 FFFFFD57                     	JMP	L224
  1563 00000EEC                                 L293:
  1564 00000EEC FF 75 08                        	PUSH	DWORD [8+EBP]
  1565 00000EEF FF 75 0C                        	PUSH	DWORD [12+EBP]
  1566 00000EF2 FF 75 20                        	PUSH	DWORD [32+EBP]
  1567 00000EF5 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1568 00000EF8 FF 75 24                        	PUSH	DWORD [36+EBP]
  1569 00000EFB 83 E6 FE                        	AND	ESI,-2
  1570 00000EFE 0F B6 45 10                     	MOVZX	EAX,BYTE [16+EBP]
  1571 00000F02 50                              	PUSH	EAX
  1572 00000F03 FF 76 0C                        	PUSH	DWORD [12+ESI]
  1573 00000F06 FF 36                           	PUSH	DWORD [ESI]
  1574 00000F08 E8 [00000000]                   	CALL	_boxfill8
  1575 00000F0D 83 C4 1C                        	ADD	ESP,28
  1576 00000F10 E9 FFFFFF07                     	JMP	L286
  1577 00000F15                                 L292:
  1578 00000F15 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
  1579 00000F18 8B 75 18                        	MOV	ESI,DWORD [24+EBP]
  1580 00000F1B 01 F8                           	ADD	EAX,EDI
  1581 00000F1D 83 E6 FE                        	AND	ESI,-2
  1582 00000F20 50                              	PUSH	EAX
  1583 00000F21 0F BE 45 24                     	MOVSX	EAX,BYTE [36+EBP]
  1584 00000F25 50                              	PUSH	EAX
  1585 00000F26 FF 75 08                        	PUSH	DWORD [8+EBP]
  1586 00000F29 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1587 00000F2C FF 76 0C                        	PUSH	DWORD [12+ESI]
  1588 00000F2F FF 36                           	PUSH	DWORD [ESI]
  1589 00000F31 E8 [00000000]                   	CALL	_putfonts8_asc
  1590 00000F36 83 C4 18                        	ADD	ESP,24
  1591 00000F39 F7 45 18 00000001               	TEST	DWORD [24+EBP],1
  1592 00000F40 0F 85 FFFFFCFD                  	JNE	L224
  1593 00000F46 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
  1594 00000F49 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1595 00000F4C 8B 55 20                        	MOV	EDX,DWORD [32+EBP]
  1596 00000F4F 83 C0 10                        	ADD	EAX,16
  1597 00000F52 50                              	PUSH	EAX
  1598 00000F53 8D 04 D1                        	LEA	EAX,DWORD [ECX+EDX*8]
  1599 00000F56 50                              	PUSH	EAX
  1600 00000F57 FF 75 08                        	PUSH	DWORD [8+EBP]
  1601 00000F5A 51                              	PUSH	ECX
  1602 00000F5B E9 FFFFFED9                     	JMP	L284
  1603 00000F60                                 L291:
  1604 00000F60 FF 75 EC                        	PUSH	DWORD [-20+EBP]
  1605 00000F63 E8 [00000000]                   	CALL	_sheet_alloc
  1606 00000F68 8B 5D 18                        	MOV	EBX,DWORD [24+EBP]
  1607 00000F6B 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1608 00000F6E 01 FB                           	ADD	EBX,EDI
  1609 00000F70 89 48 08                        	MOV	DWORD [8+EAX],ECX
  1610 00000F73 89 C6                           	MOV	ESI,EAX
  1611 00000F75 83 48 24 10                     	OR	DWORD [36+EAX],16
  1612 00000F79 FF 75 24                        	PUSH	DWORD [36+EBP]
  1613 00000F7C FF 75 08                        	PUSH	DWORD [8+EBP]
  1614 00000F7F FF 75 0C                        	PUSH	DWORD [12+EBP]
  1615 00000F82 53                              	PUSH	EBX
  1616 00000F83 50                              	PUSH	EAX
  1617 00000F84 E8 [00000000]                   	CALL	_sheet_setbuf
  1618 00000F89 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
  1619 00000F8C 6A 00                           	PUSH	0
  1620 00000F8E 01 F8                           	ADD	EAX,EDI
  1621 00000F90 50                              	PUSH	EAX
  1622 00000F91 FF 75 08                        	PUSH	DWORD [8+EBP]
  1623 00000F94 FF 75 0C                        	PUSH	DWORD [12+EBP]
  1624 00000F97 53                              	PUSH	EBX
  1625 00000F98 BB 00000002                     	MOV	EBX,2
  1626 00000F9D E8 [00000000]                   	CALL	_make_window8
  1627 00000FA2 8B 4D EC                        	MOV	ECX,DWORD [-20+EBP]
  1628 00000FA5 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
  1629 00000FA8 83 C4 2C                        	ADD	ESP,44
  1630 00000FAB 8B 42 0C                        	MOV	EAX,DWORD [12+EDX]
  1631 00000FAE 2B 45 08                        	SUB	EAX,DWORD [8+EBP]
  1632 00000FB1 99                              	CDQ
  1633 00000FB2 F7 FB                           	IDIV	EBX
  1634 00000FB4 50                              	PUSH	EAX
  1635 00000FB5 8B 41 08                        	MOV	EAX,DWORD [8+ECX]
  1636 00000FB8 2B 45 0C                        	SUB	EAX,DWORD [12+EBP]
  1637 00000FBB 99                              	CDQ
  1638 00000FBC F7 FB                           	IDIV	EBX
  1639 00000FBE 83 E0 FC                        	AND	EAX,-4
  1640 00000FC1 50                              	PUSH	EAX
  1641 00000FC2 56                              	PUSH	ESI
  1642 00000FC3 E8 [00000000]                   	CALL	_sheet_slide
  1643 00000FC8 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1644 00000FCB FF 70 10                        	PUSH	DWORD [16+EAX]
  1645 00000FCE 56                              	PUSH	ESI
  1646 00000FCF E8 [00000000]                   	CALL	_sheet_updown
  1647 00000FD4 89 75 44                        	MOV	DWORD [68+EBP],ESI
  1648 00000FD7 E9 FFFFFE63                     	JMP	L283
  1649 00000FDC                                 L290:
  1650 00000FDC 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
  1651 00000FDF 83 C0 30                        	ADD	EAX,48
  1652 00000FE2 E9 FFFFFC5E                     	JMP	L222
  1653 00000FE7                                 L289:
  1654 00000FE7 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1655 00000FEA FF 75 20                        	PUSH	DWORD [32+EBP]
  1656 00000FED 01 F8                           	ADD	EAX,EDI
  1657 00000FEF 50                              	PUSH	EAX
  1658 00000FF0 56                              	PUSH	ESI
  1659 00000FF1 E8 FFFFF452                     	CALL	_cons_putstr1
  1660 00000FF6 E9 FFFFFC6D                     	JMP	L279
  1661 00000FFB                                 L288:
  1662 00000FFB 8B 45 18                        	MOV	EAX,DWORD [24+EBP]
  1663 00000FFE 01 F8                           	ADD	EAX,EDI
  1664 00001000 50                              	PUSH	EAX
  1665 00001001 56                              	PUSH	ESI
  1666 00001002 E8 FFFFF413                     	CALL	_cons_putstr0
  1667 00001007 E9 FFFFFCC6                     	JMP	L282
  1668 0000100C                                 L287:
  1669 0000100C 6A 01                           	PUSH	1
  1670 0000100E 0F B6 45 24                     	MOVZX	EAX,BYTE [36+EBP]
  1671 00001012 50                              	PUSH	EAX
  1672 00001013 56                              	PUSH	ESI
  1673 00001014 E8 FFFFF28F                     	CALL	_cons_putchar
  1674 00001019 E9 FFFFFC4A                     	JMP	L279
  1675                                          [SECTION .data]
  1676 00000092                                 LC14:
  1677 00000092 0A 20 49 4E 54 20 30 43 20 3A   	DB	0x0A," INT 0C :",0x0A," Stack Excepiton.",0x0A,0x00
       0000009C 0A 20 53 74 61 63 6B 20 45 78 
       000000A6 63 65 70 69 74 6F 6E 2E 0A 00 
  1678 000000B0                                 LC15:
  1679 000000B0 45 49 50 20 3D 20 25 30 38 58   	DB	"EIP = %08X",0x0A,0x00
       000000BA 0A 00 
  1680                                          [SECTION .text]
  1681 0000101E                                 	GLOBAL	_inthandler0c
  1682 0000101E                                 _inthandler0c:
  1683 0000101E 55                              	PUSH	EBP
  1684 0000101F 89 E5                           	MOV	EBP,ESP
  1685 00001021 57                              	PUSH	EDI
  1686 00001022 56                              	PUSH	ESI
  1687 00001023 53                              	PUSH	EBX
  1688 00001024 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1689 00001027 83 EC 20                        	SUB	ESP,32
  1690 0000102A E8 [00000000]                   	CALL	_task_now
  1691 0000102F 89 C6                           	MOV	ESI,EAX
  1692 00001031 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  1693 00001037 83 C6 30                        	ADD	ESI,48
  1694 0000103A 68 [00000092]                   	PUSH	LC14
  1695 0000103F 57                              	PUSH	EDI
  1696 00001040 E8 FFFFF3D5                     	CALL	_cons_putstr0
  1697 00001045 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1698 00001048 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1699 0000104B 68 [000000B0]                   	PUSH	LC15
  1700 00001050 53                              	PUSH	EBX
  1701 00001051 E8 [00000000]                   	CALL	_sprintf
  1702 00001056 53                              	PUSH	EBX
  1703 00001057 57                              	PUSH	EDI
  1704 00001058 E8 FFFFF3BD                     	CALL	_cons_putstr0
  1705 0000105D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1706 00001060 5B                              	POP	EBX
  1707 00001061 89 F0                           	MOV	EAX,ESI
  1708 00001063 5E                              	POP	ESI
  1709 00001064 5F                              	POP	EDI
  1710 00001065 5D                              	POP	EBP
  1711 00001066 C3                              	RET
  1712                                          [SECTION .data]
  1713 000000BC                                 LC16:
  1714 000000BC 0A 49 4E 54 20 30 44 20 3A 0A   	DB	0x0A,"INT 0D :",0x0A," General Protected Exception.",0x0A,0x00
       000000C6 20 47 65 6E 65 72 61 6C 20 50 
       000000D0 72 6F 74 65 63 74 65 64 20 45 
       000000DA 78 63 65 70 74 69 6F 6E 2E 0A 
       000000E4 00 
  1715                                          [SECTION .text]
  1716 00001067                                 	GLOBAL	_inthandler0d
  1717 00001067                                 _inthandler0d:
  1718 00001067 55                              	PUSH	EBP
  1719 00001068 89 E5                           	MOV	EBP,ESP
  1720 0000106A 57                              	PUSH	EDI
  1721 0000106B 56                              	PUSH	ESI
  1722 0000106C 53                              	PUSH	EBX
  1723 0000106D 8D 5D D4                        	LEA	EBX,DWORD [-44+EBP]
  1724 00001070 83 EC 20                        	SUB	ESP,32
  1725 00001073 E8 [00000000]                   	CALL	_task_now
  1726 00001078 89 C6                           	MOV	ESI,EAX
  1727 0000107A 8B B8 000000A4                  	MOV	EDI,DWORD [164+EAX]
  1728 00001080 83 C6 30                        	ADD	ESI,48
  1729 00001083 68 [000000BC]                   	PUSH	LC16
  1730 00001088 57                              	PUSH	EDI
  1731 00001089 E8 FFFFF38C                     	CALL	_cons_putstr0
  1732 0000108E 8B 45 08                        	MOV	EAX,DWORD [8+EBP]
  1733 00001091 FF 70 2C                        	PUSH	DWORD [44+EAX]
  1734 00001094 68 [000000B0]                   	PUSH	LC15
  1735 00001099 53                              	PUSH	EBX
  1736 0000109A E8 [00000000]                   	CALL	_sprintf
  1737 0000109F 53                              	PUSH	EBX
  1738 000010A0 57                              	PUSH	EDI
  1739 000010A1 E8 FFFFF374                     	CALL	_cons_putstr0
  1740 000010A6 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
  1741 000010A9 5B                              	POP	EBX
  1742 000010AA 89 F0                           	MOV	EAX,ESI
  1743 000010AC 5E                              	POP	ESI
  1744 000010AD 5F                              	POP	EDI
  1745 000010AE 5D                              	POP	EBP
  1746 000010AF C3                              	RET
  1747 000010B0                                 	GLOBAL	_hrb_api_linewin
  1748 000010B0                                 _hrb_api_linewin:
  1749 000010B0 55                              	PUSH	EBP
  1750 000010B1 89 E5                           	MOV	EBP,ESP
  1751 000010B3 57                              	PUSH	EDI
  1752 000010B4 56                              	PUSH	ESI
  1753 000010B5 53                              	PUSH	EBX
  1754 000010B6 83 EC 0C                        	SUB	ESP,12
  1755 000010B9 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
  1756 000010BC 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
  1757 000010BF 89 D9                           	MOV	ECX,EBX
  1758 000010C1 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
  1759 000010C4 C1 E1 0A                        	SAL	ECX,10
  1760 000010C7 89 D7                           	MOV	EDI,EDX
  1761 000010C9 89 4D F0                        	MOV	DWORD [-16+EBP],ECX
  1762 000010CC 89 C6                           	MOV	ESI,EAX
  1763 000010CE 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
  1764 000010D1 2B 7D 10                        	SUB	EDI,DWORD [16+EBP]
  1765 000010D4 C1 E1 0A                        	SAL	ECX,10
  1766 000010D7 29 DE                           	SUB	ESI,EBX
  1767 000010D9 89 4D EC                        	MOV	DWORD [-20+EBP],ECX
  1768 000010DC 0F 88 000000A3                  	JS	L334
  1769 000010E2                                 L313:
  1770 000010E2 85 FF                           	TEST	EDI,EDI
  1771 000010E4 0F 88 00000094                  	JS	L335
  1772 000010EA                                 L314:
  1773 000010EA 39 FE                           	CMP	ESI,EDI
  1774 000010EC 7C 62                           	JL	L315
  1775 000010EE 8D 4E 01                        	LEA	ECX,DWORD [1+ESI]
  1776 000010F1 39 C3                           	CMP	EBX,EAX
  1777 000010F3 BE FFFFFC00                     	MOV	ESI,-1024
  1778 000010F8 7F 05                           	JG	L317
  1779 000010FA BE 00000400                     	MOV	ESI,1024
  1780 000010FF                                 L317:
  1781 000010FF 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1782 00001102 7F 46                           	JG	L318
  1783 00001104 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1784 00001107 42                              	INC	EDX
  1785 00001108                                 L333:
  1786 00001108 C1 E2 0A                        	SAL	EDX,10
  1787 0000110B 89 D0                           	MOV	EAX,EDX
  1788 0000110D 99                              	CDQ
  1789 0000110E F7 F9                           	IDIV	ECX
  1790 00001110 89 C7                           	MOV	EDI,EAX
  1791 00001112                                 L320:
  1792 00001112 85 C9                           	TEST	ECX,ECX
  1793 00001114 7E 2C                           	JLE	L331
  1794 00001116 89 CB                           	MOV	EBX,ECX
  1795 00001118                                 L329:
  1796 00001118 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
  1797 0000111B 8B 45 EC                        	MOV	EAX,DWORD [-20+EBP]
  1798 0000111E C1 F8 0A                        	SAR	EAX,10
  1799 00001121 8B 4D F0                        	MOV	ECX,DWORD [-16+EBP]
  1800 00001124 0F AF 42 0C                     	IMUL	EAX,DWORD [12+EDX]
  1801 00001128 C1 F9 0A                        	SAR	ECX,10
  1802 0000112B 89 4D E8                        	MOV	DWORD [-24+EBP],ECX
  1803 0000112E 8B 0A                           	MOV	ECX,DWORD [EDX]
  1804 00001130 03 45 E8                        	ADD	EAX,DWORD [-24+EBP]
  1805 00001133 8A 55 1C                        	MOV	DL,BYTE [28+EBP]
  1806 00001136 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
  1807 00001139 01 75 F0                        	ADD	DWORD [-16+EBP],ESI
  1808 0000113C 01 7D EC                        	ADD	DWORD [-20+EBP],EDI
  1809 0000113F 4B                              	DEC	EBX
  1810 00001140 75 D6                           	JNE	L329
  1811 00001142                                 L331:
  1812 00001142 83 C4 0C                        	ADD	ESP,12
  1813 00001145 5B                              	POP	EBX
  1814 00001146 5E                              	POP	ESI
  1815 00001147 5F                              	POP	EDI
  1816 00001148 5D                              	POP	EBP
  1817 00001149 C3                              	RET
  1818 0000114A                                 L318:
  1819 0000114A 2B 55 10                        	SUB	EDX,DWORD [16+EBP]
  1820 0000114D 4A                              	DEC	EDX
  1821 0000114E EB B8                           	JMP	L333
  1822 00001150                                 L315:
  1823 00001150 8D 4F 01                        	LEA	ECX,DWORD [1+EDI]
  1824 00001153 39 55 10                        	CMP	DWORD [16+EBP],EDX
  1825 00001156 BF FFFFFC00                     	MOV	EDI,-1024
  1826 0000115B 7F 05                           	JG	L322
  1827 0000115D BF 00000400                     	MOV	EDI,1024
  1828 00001162                                 L322:
  1829 00001162 39 C3                           	CMP	EBX,EAX
  1830 00001164 7F 11                           	JG	L323
  1831 00001166 29 D8                           	SUB	EAX,EBX
  1832 00001168 8D 50 01                        	LEA	EDX,DWORD [1+EAX]
  1833 0000116B                                 L332:
  1834 0000116B C1 E2 0A                        	SAL	EDX,10
  1835 0000116E 89 D0                           	MOV	EAX,EDX
  1836 00001170 99                              	CDQ
  1837 00001171 F7 F9                           	IDIV	ECX
  1838 00001173 89 C6                           	MOV	ESI,EAX
  1839 00001175 EB 9B                           	JMP	L320
  1840 00001177                                 L323:
  1841 00001177 29 D8                           	SUB	EAX,EBX
  1842 00001179 8D 50 FF                        	LEA	EDX,DWORD [-1+EAX]
  1843 0000117C EB ED                           	JMP	L332
  1844 0000117E                                 L335:
  1845 0000117E F7 DF                           	NEG	EDI
  1846 00001180 E9 FFFFFF65                     	JMP	L314
  1847 00001185                                 L334:
  1848 00001185 F7 DE                           	NEG	ESI
  1849 00001187 E9 FFFFFF56                     	JMP	L313
